2025-03-02 20:54:32.083 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-03-02 20:54:32.177 | WARNING  | logging:callHandlers:1762 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 30, in <module>
    main()
    └ <function main at 0x000001CF6286B1A0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 25, in main
    init()
    └ <function init at 0x000001CF62A67380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 16, in init
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x000001CF629B5190>
    └ <function init_db at 0x000001CF62B1F380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@silentrhythm.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x000001CF629B5190>
           │            └ <function create_user at 0x000001CF62B1F100>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@silentrhythm.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x000001CF62B1EF20>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x000001CF62B17560>
           └ <CryptContext at 0x1cf62850830>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x000001CF62AD9300>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x000001CF62B1DD00>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x000001CF62ADB6A0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x000001CF62ADB7E0>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-03-02 20:54:32.190 | WARNING  | logging:callHandlers:1762 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 30, in <module>
    main()
    └ <function main at 0x000001CF6286B1A0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 25, in main
    init()
    └ <function init at 0x000001CF62A67380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 16, in init
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x000001CF629B5190>
    └ <function init_db at 0x000001CF62B1F380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@silentrhythm.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x000001CF629B5190>
           │            └ <function create_user at 0x000001CF62B1F100>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@silentrhythm.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x000001CF62B1EF20>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x000001CF62B17560>
           └ <CryptContext at 0x1cf62850830>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x000001CF62AD9300>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x000001CF62B1DD00>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x000001CF62ADB6A0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x000001CF62ADB7E0>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-03-02 20:54:32.202 | WARNING  | logging:callHandlers:1762 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 30, in <module>
    main()
    └ <function main at 0x000001CF6286B1A0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 25, in main
    init()
    └ <function init at 0x000001CF62A67380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 16, in init
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x000001CF629B5190>
    └ <function init_db at 0x000001CF62B1F380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@silentrhythm.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x000001CF629B5190>
           │            └ <function create_user at 0x000001CF62B1F100>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@silentrhythm.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x000001CF62B1EF20>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x000001CF62B17560>
           └ <CryptContext at 0x1cf62850830>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x000001CF62AD9300>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x000001CF62B1DD00>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x000001CF62ADB6A0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x000001CF62ADB7E0>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-03-02 20:54:32.212 | WARNING  | logging:callHandlers:1762 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 30, in <module>
    main()
    └ <function main at 0x000001CF6286B1A0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 25, in main
    init()
    └ <function init at 0x000001CF62A67380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\initial_data.py", line 16, in init
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x000001CF629B5190>
    └ <function init_db at 0x000001CF62B1F380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@silentrhythm.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x000001CF629B5190>
           │            └ <function create_user at 0x000001CF62B1F100>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@silentrhythm.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x000001CF62B1EF20>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x000001CF62B17560>
           └ <CryptContext at 0x1cf62850830>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x000001CF62AD9300>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x000001CF62B1DD00>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x000001CF62ADB6A0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001CF6263D8B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x000001CF62ADB420>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x000001CF62ADB7E0>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-03-02 20:54:32.474 | INFO     | logging:callHandlers:1762 - 超级用户已创建
2025-03-02 20:54:32.475 | INFO     | logging:callHandlers:1762 - 超级用户已创建
2025-03-02 20:54:32.476 | INFO     | logging:callHandlers:1762 - 超级用户已创建
2025-03-02 20:54:32.476 | INFO     | logging:callHandlers:1762 - 超级用户已创建
2025-03-02 20:54:32.477 | INFO     | logging:callHandlers:1762 - 初始数据创建完成
2025-03-02 20:54:32.477 | INFO     | logging:callHandlers:1762 - 初始数据创建完成
2025-03-02 20:54:56.484 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-03-02 20:54:56.488 | INFO     | logging:callHandlers:1762 - Started server process [65868]
2025-03-02 20:54:56.488 | INFO     | logging:callHandlers:1762 - Started server process [65868]
2025-03-02 20:54:56.490 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-03-02 20:54:56.491 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-03-02 20:54:56.547 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:54:56.548 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:54:56.549 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:54:56.550 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:54:56.550 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-03-02 20:54:56.551 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-03-02 20:55:08.776 | INFO     | app.core.middleware:dispatch:38 - GET / 200 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:55:08.778 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29530 - "GET / HTTP/1.1" 200
2025-03-02 20:55:09.059 | INFO     | app.core.middleware:dispatch:38 - GET / 200 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:55:09.062 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29530 - "GET / HTTP/1.1" 200
2025-03-02 20:55:09.448 | INFO     | app.core.middleware:dispatch:38 - GET /icons/icon_zh_48.png 404 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:55:09.450 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29532 - "GET /icons/icon_zh_48.png HTTP/1.1" 404
2025-03-02 20:55:09.596 | INFO     | app.core.middleware:dispatch:38 - GET /icons/icon_zh_48.png 404 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:55:09.599 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29532 - "GET /icons/icon_zh_48.png HTTP/1.1" 404
2025-03-02 20:55:24.206 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:55:24.209 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29588 - "GET /docs HTTP/1.1" 200
2025-03-02 20:55:25.739 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.013s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:55:25.742 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29588 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-03-02 20:55:25.818 | INFO     | app.core.middleware:dispatch:38 - GET /icons/icon_zh_48.png 404 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:55:25.821 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29588 - "GET /icons/icon_zh_48.png HTTP/1.1" 404
2025-03-02 20:55:41.538 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/users/ 200 0.065s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:55:41.544 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29623 - "GET /api/v1/users/?skip=0&limit=100 HTTP/1.1" 200
2025-03-02 20:56:13.461 | INFO     | app.core.middleware:dispatch:38 - GET //api/v1/health/ 404 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:56:13.463 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29653 - "GET //api/v1/health/ HTTP/1.1" 404
2025-03-02 20:56:13.824 | INFO     | app.core.middleware:dispatch:38 - GET /icons/icon_zh_48.png 404 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:56:13.827 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29653 - "GET /icons/icon_zh_48.png HTTP/1.1" 404
2025-03-02 20:57:56.808 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:57:56.811 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29814 - "GET /docs HTTP/1.1" 200
2025-03-02 20:57:56.868 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:57:56.870 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29814 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-03-02 20:57:56.910 | INFO     | logging:callHandlers:1762 - Shutting down
2025-03-02 20:57:56.911 | INFO     | logging:callHandlers:1762 - Shutting down
2025-03-02 20:57:56.968 | INFO     | app.core.middleware:dispatch:38 - GET /icons/icon_zh_48.png 404 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0
2025-03-02 20:57:56.969 | INFO     | logging:callHandlers:1762 - 127.0.0.1:29814 - "GET /icons/icon_zh_48.png HTTP/1.1" 404
2025-03-02 20:57:59.365 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-03-02 20:57:59.366 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-03-02 20:57:59.367 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-03-02 20:57:59.368 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-03-02 20:57:59.369 | INFO     | logging:callHandlers:1762 - Finished server process [65868]
2025-03-02 20:57:59.370 | INFO     | logging:callHandlers:1762 - Finished server process [65868]
2025-03-02 20:58:00.413 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-03-02 20:58:00.418 | INFO     | logging:callHandlers:1762 - Started server process [86492]
2025-03-02 20:58:00.420 | INFO     | logging:callHandlers:1762 - Started server process [86492]
2025-03-02 20:58:00.420 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-03-02 20:58:00.421 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-03-02 20:58:00.575 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:58:00.577 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:58:00.577 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:58:00.577 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:58:00.578 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-03-02 20:58:00.578 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-03-02 20:58:18.785 | INFO     | logging:callHandlers:1762 - Shutting down
2025-03-02 20:58:18.786 | INFO     | logging:callHandlers:1762 - Shutting down
2025-03-02 20:58:18.887 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-03-02 20:58:18.888 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-03-02 20:58:18.889 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-03-02 20:58:18.889 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-03-02 20:58:18.890 | INFO     | logging:callHandlers:1762 - Finished server process [86492]
2025-03-02 20:58:18.893 | INFO     | logging:callHandlers:1762 - Finished server process [86492]
2025-03-02 20:58:19.724 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-03-02 20:58:19.728 | INFO     | logging:callHandlers:1762 - Started server process [81720]
2025-03-02 20:58:19.729 | INFO     | logging:callHandlers:1762 - Started server process [81720]
2025-03-02 20:58:19.730 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-03-02 20:58:19.730 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-03-02 20:58:19.784 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:58:19.786 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:58:19.786 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:58:19.787 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-03-02 20:58:19.788 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-03-02 20:58:19.789 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:07:52.047 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 20:07:52.053 | INFO     | logging:callHandlers:1762 - Started server process [11540]
2025-04-01 20:07:52.054 | INFO     | logging:callHandlers:1762 - Started server process [11540]
2025-04-01 20:07:52.056 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:07:52.056 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:07:52.451 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:07:52.455 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:07:52.457 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:07:52.458 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:07:52.461 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:07:52.463 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:12:49.017 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 20:12:49.021 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 20:12:49.122 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 20:12:49.125 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 20:12:49.130 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 20:12:49.132 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 20:12:49.133 | INFO     | logging:callHandlers:1762 - Finished server process [11540]
2025-04-01 20:12:49.134 | INFO     | logging:callHandlers:1762 - Finished server process [11540]
2025-04-01 20:12:50.318 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 20:12:50.324 | INFO     | logging:callHandlers:1762 - Started server process [36824]
2025-04-01 20:12:50.325 | INFO     | logging:callHandlers:1762 - Started server process [36824]
2025-04-01 20:12:50.325 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:12:50.327 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:12:50.458 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:12:50.459 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:12:50.460 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:12:50.460 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:12:50.462 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:12:50.462 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:14:37.340 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai-assistant/chat 404 0.001s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:14:37.343 | INFO     | logging:callHandlers:1762 - 127.0.0.1:49970 - "POST /api/v1/ai-assistant/chat HTTP/1.1" 404
2025-04-01 20:26:09.265 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai-assistant/chat 404 0.012s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:26:09.280 | INFO     | logging:callHandlers:1762 - 127.0.0.1:55053 - "POST /api/v1/ai-assistant/chat HTTP/1.1" 404
2025-04-01 20:26:09.324 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 20:26:09.326 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 20:26:09.432 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 20:26:09.433 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 20:26:09.437 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 20:26:09.438 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 20:26:09.448 | INFO     | logging:callHandlers:1762 - Finished server process [36824]
2025-04-01 20:26:09.449 | INFO     | logging:callHandlers:1762 - Finished server process [36824]
2025-04-01 20:26:11.202 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 20:26:11.208 | INFO     | logging:callHandlers:1762 - Started server process [2068]
2025-04-01 20:26:11.209 | INFO     | logging:callHandlers:1762 - Started server process [2068]
2025-04-01 20:26:11.210 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:26:11.211 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:26:11.489 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:26:11.491 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:26:11.493 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:26:11.494 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:26:11.496 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:26:11.497 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:28:04.682 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai-assistant/chat 404 0.000s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:28:04.684 | INFO     | logging:callHandlers:1762 - 127.0.0.1:55420 - "POST /api/v1/ai-assistant/chat HTTP/1.1" 404
2025-04-01 20:28:04.756 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 20:28:04.759 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 20:28:04.861 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 20:28:04.862 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 20:28:04.862 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 20:28:04.863 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 20:28:04.863 | INFO     | logging:callHandlers:1762 - Finished server process [2068]
2025-04-01 20:28:04.864 | INFO     | logging:callHandlers:1762 - Finished server process [2068]
2025-04-01 20:33:47.941 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 20:33:47.948 | INFO     | logging:callHandlers:1762 - Started server process [35104]
2025-04-01 20:33:47.949 | INFO     | logging:callHandlers:1762 - Started server process [35104]
2025-04-01 20:33:47.951 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:33:47.952 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:33:48.335 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:33:48.336 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:33:48.336 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:33:48.337 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:33:48.338 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:33:48.338 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:33:48.346 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.001s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:33:48.348 | INFO     | logging:callHandlers:1762 - 127.0.0.1:55657 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 20:34:17.654 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.001s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:34:17.655 | INFO     | logging:callHandlers:1762 - 127.0.0.1:56667 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 20:41:01.048 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.001s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:41:01.050 | INFO     | logging:callHandlers:1762 - 127.0.0.1:57970 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 20:42:55.772 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.000s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:42:55.774 | INFO     | logging:callHandlers:1762 - 127.0.0.1:58376 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 20:43:32.803 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.001s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:43:32.805 | INFO     | logging:callHandlers:1762 - 127.0.0.1:58448 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 20:45:13.791 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.000s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:45:13.793 | INFO     | logging:callHandlers:1762 - 127.0.0.1:58676 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 20:46:22.857 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.001s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:46:22.858 | INFO     | logging:callHandlers:1762 - 127.0.0.1:58878 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 20:50:21.977 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 20:50:21.982 | INFO     | logging:callHandlers:1762 - Started server process [25660]
2025-04-01 20:50:21.984 | INFO     | logging:callHandlers:1762 - Started server process [25660]
2025-04-01 20:50:21.984 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:50:21.986 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:50:22.307 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:50:22.309 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:50:22.309 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:50:22.310 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:50:22.311 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:50:22.312 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:51:36.939 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.002s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:51:36.942 | INFO     | logging:callHandlers:1762 - 127.0.0.1:59826 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 20:57:03.350 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 20:57:03.351 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 20:57:03.455 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 20:57:03.460 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 20:57:03.464 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 20:57:03.466 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 20:57:03.467 | INFO     | logging:callHandlers:1762 - Finished server process [25660]
2025-04-01 20:57:03.468 | INFO     | logging:callHandlers:1762 - Finished server process [25660]
2025-04-01 20:57:06.503 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 20:57:06.511 | INFO     | logging:callHandlers:1762 - Started server process [5128]
2025-04-01 20:57:06.513 | INFO     | logging:callHandlers:1762 - Started server process [5128]
2025-04-01 20:57:06.514 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:57:06.515 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:57:06.847 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:57:06.849 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:57:06.850 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:57:06.851 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:57:06.893 | ERROR    | logging:callHandlers:1762 - Traceback (most recent call last):
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\base_events.py", line 664, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 78, in serve
    await self.startup(sockets=sockets)
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 89, in startup
    await self.lifespan.startup()
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 54, in startup
    await self.startup_event.wait()
  File "D:\python环境\Lib\asyncio\locks.py", line 212, in wait
    await fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 686, in lifespan
    await receive()
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-04-01 20:57:06.895 | ERROR    | logging:callHandlers:1762 - Traceback (most recent call last):
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\base_events.py", line 664, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 78, in serve
    await self.startup(sockets=sockets)
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 89, in startup
    await self.lifespan.startup()
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 54, in startup
    await self.startup_event.wait()
  File "D:\python环境\Lib\asyncio\locks.py", line 212, in wait
    await fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 686, in lifespan
    await receive()
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-04-01 20:57:21.142 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 20:57:21.147 | INFO     | logging:callHandlers:1762 - Started server process [13028]
2025-04-01 20:57:21.150 | INFO     | logging:callHandlers:1762 - Started server process [13028]
2025-04-01 20:57:21.151 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:57:21.151 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 20:57:21.405 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:57:21.407 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:57:21.408 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:57:21.409 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 20:57:21.410 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:57:21.412 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 20:57:37.166 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.001s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 20:57:37.170 | INFO     | logging:callHandlers:1762 - 127.0.0.1:2602 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 21:00:27.850 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.001s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 21:00:27.851 | INFO     | logging:callHandlers:1762 - 127.0.0.1:3499 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 21:03:17.895 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 21:03:17.901 | INFO     | logging:callHandlers:1762 - Started server process [32064]
2025-04-01 21:03:17.903 | INFO     | logging:callHandlers:1762 - Started server process [32064]
2025-04-01 21:03:17.903 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:03:17.904 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:03:18.253 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:03:18.256 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:03:18.257 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:03:18.258 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:03:18.260 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:03:18.260 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:03:18.261 | INFO     | logging:callHandlers:1762 - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-04-01 21:03:18.262 | INFO     | logging:callHandlers:1762 - Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
2025-04-01 21:03:20.598 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:03:20.601 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:03:20.706 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:03:20.710 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:03:20.711 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:03:20.714 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:03:20.715 | INFO     | logging:callHandlers:1762 - Finished server process [32064]
2025-04-01 21:03:20.718 | INFO     | logging:callHandlers:1762 - Finished server process [32064]
2025-04-01 21:03:30.362 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 21:03:30.367 | INFO     | logging:callHandlers:1762 - Started server process [14296]
2025-04-01 21:03:30.368 | INFO     | logging:callHandlers:1762 - Started server process [14296]
2025-04-01 21:03:30.369 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:03:30.370 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:03:30.602 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:03:30.603 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:03:30.603 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:03:30.605 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:03:30.605 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:03:30.606 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:04:06.322 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-01 21:04:06.323 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-01 21:04:06.325 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002B42C165C60>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002B43250D580>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002B432375120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002B431DDCF40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002B431414FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002B4321BE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002B432333AA0>
                 │    └ <openai.OpenAI object at 0x000002B4323339E0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>,)
           └ <function Completions.create at 0x000002B4321BE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002B4323339E0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002B431AC9D00>
           │    │          └ <openai.OpenAI object at 0x000002B4323339E0>
           │    └ ~ResponseT
           └ <function cast at 0x000002B42DFAD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002B431AC9DA0>
           └ <openai.OpenAI object at 0x000002B4323339E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002B431AC8400>
          └ <openai.OpenAI object at 0x000002B4323339E0>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:04:06.369 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002B42C165C60>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002B43250D580>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002B432375120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002B431DDCF40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002B431414FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002B4321BE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002B432333AA0>
                 │    └ <openai.OpenAI object at 0x000002B4323339E0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>,)
           └ <function Completions.create at 0x000002B4321BE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002B4323339E0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002B431AC9D00>
           │    │          └ <openai.OpenAI object at 0x000002B4323339E0>
           │    └ ~ResponseT
           └ <function cast at 0x000002B42DFAD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002B431AC9DA0>
           └ <openai.OpenAI object at 0x000002B4323339E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002B431AC8400>
          └ <openai.OpenAI object at 0x000002B4323339E0>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:04:06.381 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002B42C165C60>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002B43250D580>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002B432375120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002B431DDCF40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002B431414FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002B4321BE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002B432333AA0>
                 │    └ <openai.OpenAI object at 0x000002B4323339E0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>,)
           └ <function Completions.create at 0x000002B4321BE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002B4323339E0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002B431AC9D00>
           │    │          └ <openai.OpenAI object at 0x000002B4323339E0>
           │    └ ~ResponseT
           └ <function cast at 0x000002B42DFAD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002B431AC9DA0>
           └ <openai.OpenAI object at 0x000002B4323339E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002B431AC8400>
          └ <openai.OpenAI object at 0x000002B4323339E0>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:04:06.391 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002B42C165C60>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002B43250D580>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002B432375120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002B431DDCF40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002B431414FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002B4321BE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002B432333AA0>
                 │    └ <openai.OpenAI object at 0x000002B4323339E0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>,)
           └ <function Completions.create at 0x000002B4321BE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002B4323339E0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002B431AC9D00>
           │    │          └ <openai.OpenAI object at 0x000002B4323339E0>
           │    └ ~ResponseT
           └ <function cast at 0x000002B42DFAD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002B431AC9DA0>
           └ <openai.OpenAI object at 0x000002B4323339E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002B431AC8400>
          └ <openai.OpenAI object at 0x000002B4323339E0>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:04:06.404 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 1.065s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 21:04:06.405 | INFO     | logging:callHandlers:1762 - 127.0.0.1:4428 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 21:05:36.695 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-01 21:05:36.699 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-01 21:05:36.703 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002B42C165C60>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002B43250D580>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002B432375120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002B4323C82C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002B431414FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002B4321BE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002B432333AA0>
                 │    └ <openai.OpenAI object at 0x000002B4323339E0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>,)
           └ <function Completions.create at 0x000002B4321BE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002B4323339E0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002B431AC9D00>
           │    │          └ <openai.OpenAI object at 0x000002B4323339E0>
           │    └ ~ResponseT
           └ <function cast at 0x000002B42DFAD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002B431AC9DA0>
           └ <openai.OpenAI object at 0x000002B4323339E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002B431AC8400>
          └ <openai.OpenAI object at 0x000002B4323339E0>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:05:36.718 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:05:36.728 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002B42C165C60>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002B43250D580>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002B432375120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002B4323C82C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002B431414FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002B4321BE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002B432333AA0>
                 │    └ <openai.OpenAI object at 0x000002B4323339E0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>,)
           └ <function Completions.create at 0x000002B4321BE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002B4323339E0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002B431AC9D00>
           │    │          └ <openai.OpenAI object at 0x000002B4323339E0>
           │    └ ~ResponseT
           └ <function cast at 0x000002B42DFAD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002B431AC9DA0>
           └ <openai.OpenAI object at 0x000002B4323339E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002B431AC8400>
          └ <openai.OpenAI object at 0x000002B4323339E0>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:05:36.731 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:05:36.747 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002B42C165C60>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002B43250D580>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002B432375120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002B4323C82C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002B431414FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002B4321BE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002B432333AA0>
                 │    └ <openai.OpenAI object at 0x000002B4323339E0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>,)
           └ <function Completions.create at 0x000002B4321BE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002B4323339E0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002B431AC9D00>
           │    │          └ <openai.OpenAI object at 0x000002B4323339E0>
           │    └ ~ResponseT
           └ <function cast at 0x000002B42DFAD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002B431AC9DA0>
           └ <openai.OpenAI object at 0x000002B4323339E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002B431AC8400>
          └ <openai.OpenAI object at 0x000002B4323339E0>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:05:36.760 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002B42C165C60>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002B43250D580>
    └ <WorkerThread(AnyIO worker thread, started 13360)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002B432375120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002B4323C82C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002B431414FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002B4321BE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002B432333AA0>
                 │    └ <openai.OpenAI object at 0x000002B4323339E0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002B4313DA960>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>,)
           └ <function Completions.create at 0x000002B4321BE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002B4323339E0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002B4325180E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002B431AC9D00>
           │    │          └ <openai.OpenAI object at 0x000002B4323339E0>
           │    └ ~ResponseT
           └ <function cast at 0x000002B42DFAD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002B431AC9DA0>
           └ <openai.OpenAI object at 0x000002B4323339E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002B431AC8400>
          └ <openai.OpenAI object at 0x000002B4323339E0>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:05:36.769 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.780s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 21:05:36.770 | INFO     | logging:callHandlers:1762 - 127.0.0.1:5142 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 21:05:36.872 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:05:36.874 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:05:36.875 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:05:36.875 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:05:36.876 | INFO     | logging:callHandlers:1762 - Finished server process [14296]
2025-04-01 21:05:36.877 | INFO     | logging:callHandlers:1762 - Finished server process [14296]
2025-04-01 21:05:39.672 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 21:05:39.679 | INFO     | logging:callHandlers:1762 - Started server process [6544]
2025-04-01 21:05:39.680 | INFO     | logging:callHandlers:1762 - Started server process [6544]
2025-04-01 21:05:39.680 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:05:39.681 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:05:39.910 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:05:39.910 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:05:39.913 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:05:39.913 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:05:39.914 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:05:39.914 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:06:17.428 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:06:17.432 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:06:17.535 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:06:17.536 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:06:17.537 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:06:17.538 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:06:17.538 | INFO     | logging:callHandlers:1762 - Finished server process [6544]
2025-04-01 21:06:17.538 | INFO     | logging:callHandlers:1762 - Finished server process [6544]
2025-04-01 21:06:23.165 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 21:06:23.172 | INFO     | logging:callHandlers:1762 - Started server process [30892]
2025-04-01 21:06:23.173 | INFO     | logging:callHandlers:1762 - Started server process [30892]
2025-04-01 21:06:23.174 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:06:23.175 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:06:23.494 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:06:23.496 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:06:23.497 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:06:23.498 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:06:23.499 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:06:23.499 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:06:30.819 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:06:30.822 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:06:30.824 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.481030 seconds
2025-04-01 21:06:30.825 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.481030 seconds
2025-04-01 21:06:30.826 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.481030 seconds
2025-04-01 21:06:31.714 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:06:31.715 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:06:31.718 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.951651 seconds
2025-04-01 21:06:31.719 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.951651 seconds
2025-04-01 21:06:31.720 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.951651 seconds
2025-04-01 21:06:33.048 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:06:33.051 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:06:33.060 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002A8FCC15C60>
    └ <WorkerThread(AnyIO worker thread, started 7980)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002A883041580>
    └ <WorkerThread(AnyIO worker thread, started 7980)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002A882EA5120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002A882DA4A40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002A881F48FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002A882E62540>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002A882CEE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002A882C3E600>
                 │    └ <openai.OpenAI object at 0x000002A882E63AA0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002A882E62540>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>,)
           └ <function Completions.create at 0x000002A882CEE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002A882E63AA0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002A8825F9D00>
           │    │          └ <openai.OpenAI object at 0x000002A882E63AA0>
           │    └ ~ResponseT
           └ <function cast at 0x000002A8FE9BD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x000002A8825F9E40>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x000002A8825F9E40>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002A8825F8400>
          └ <openai.OpenAI object at 0x000002A882E63AA0>

openai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-04-01 21:06:33.102 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002A8FCC15C60>
    └ <WorkerThread(AnyIO worker thread, started 7980)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002A883041580>
    └ <WorkerThread(AnyIO worker thread, started 7980)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002A882EA5120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002A882DA4A40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002A881F48FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002A882E62540>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002A882CEE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002A882C3E600>
                 │    └ <openai.OpenAI object at 0x000002A882E63AA0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002A882E62540>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>,)
           └ <function Completions.create at 0x000002A882CEE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002A882E63AA0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002A8825F9D00>
           │    │          └ <openai.OpenAI object at 0x000002A882E63AA0>
           │    └ ~ResponseT
           └ <function cast at 0x000002A8FE9BD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x000002A8825F9E40>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x000002A8825F9E40>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002A8825F8400>
          └ <openai.OpenAI object at 0x000002A882E63AA0>

openai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-04-01 21:06:33.117 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002A8FCC15C60>
    └ <WorkerThread(AnyIO worker thread, started 7980)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002A883041580>
    └ <WorkerThread(AnyIO worker thread, started 7980)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002A882EA5120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002A882DA4A40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002A881F48FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002A882E62540>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002A882CEE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002A882C3E600>
                 │    └ <openai.OpenAI object at 0x000002A882E63AA0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002A882E62540>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>,)
           └ <function Completions.create at 0x000002A882CEE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002A882E63AA0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002A8825F9D00>
           │    │          └ <openai.OpenAI object at 0x000002A882E63AA0>
           │    └ ~ResponseT
           └ <function cast at 0x000002A8FE9BD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x000002A8825F9E40>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x000002A8825F9E40>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002A8825F8400>
          └ <openai.OpenAI object at 0x000002A882E63AA0>

openai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-04-01 21:06:33.129 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002A8FCC15C60>
    └ <WorkerThread(AnyIO worker thread, started 7980)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002A883041580>
    └ <WorkerThread(AnyIO worker thread, started 7980)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002A882EA5120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002A882DA4A40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002A881F48FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002A882E62540>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002A882CEE840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002A882C3E600>
                 │    └ <openai.OpenAI object at 0x000002A882E63AA0>
                 └ <app.services.ai_service.AIAssistant object at 0x000002A882E62540>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>,)
           └ <function Completions.create at 0x000002A882CEE660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002A882E63AA0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002A88304C170>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002A8825F9D00>
           │    │          └ <openai.OpenAI object at 0x000002A882E63AA0>
           │    └ ~ResponseT
           └ <function cast at 0x000002A8FE9BD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x000002A8825F9E40>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x000002A8825F9E40>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002A8825F9DA0>
           └ <openai.OpenAI object at 0x000002A882E63AA0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002A8825F8400>
          └ <openai.OpenAI object at 0x000002A882E63AA0>

openai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-04-01 21:06:33.139 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 3.623s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 21:06:33.140 | INFO     | logging:callHandlers:1762 - 127.0.0.1:5475 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 21:08:16.796 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:08:16.797 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:08:16.899 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:08:16.902 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:08:16.905 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:08:16.906 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:08:16.908 | INFO     | logging:callHandlers:1762 - Finished server process [30892]
2025-04-01 21:08:16.908 | INFO     | logging:callHandlers:1762 - Finished server process [30892]
2025-04-01 21:08:19.723 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 21:08:19.730 | INFO     | logging:callHandlers:1762 - Started server process [27100]
2025-04-01 21:08:19.731 | INFO     | logging:callHandlers:1762 - Started server process [27100]
2025-04-01 21:08:19.732 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:08:19.732 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:08:19.966 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:08:19.968 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:08:19.969 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:08:19.969 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:08:19.970 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:08:19.971 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:08:25.200 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:08:25.202 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:08:25.204 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.431614 seconds
2025-04-01 21:08:25.204 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.431614 seconds
2025-04-01 21:08:25.205 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.431614 seconds
2025-04-01 21:08:25.972 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:08:25.973 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:08:25.975 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.806269 seconds
2025-04-01 21:08:25.976 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.806269 seconds
2025-04-01 21:08:25.977 | INFO     | logging:callHandlers:1762 - Retrying request to /chat/completions in 0.806269 seconds
2025-04-01 21:08:27.095 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:08:27.096 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-04-01 21:08:27.097 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002486ADC5C60>
    └ <WorkerThread(AnyIO worker thread, started 1564)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000248710ED580>
    └ <WorkerThread(AnyIO worker thread, started 1564)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000024870F55120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000024870FAEF40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002486FFF4FE0>
               └ <app.services.ai_service.AIAssistant object at 0x0000024870F12600>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000024870DA2840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000024870EE3260>
                 │    └ <openai.OpenAI object at 0x0000024870F13B00>
                 └ <app.services.ai_service.AIAssistant object at 0x0000024870F12600>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>,)
           └ <function Completions.create at 0x0000024870DA2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000024870F13B00>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x00000248706A9D00>
           │    │          └ <openai.OpenAI object at 0x0000024870F13B00>
           │    └ ~ResponseT
           └ <function cast at 0x000002486CB6D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x00000248706A9E40>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x00000248706A9E40>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x00000248706A8400>
          └ <openai.OpenAI object at 0x0000024870F13B00>

openai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-04-01 21:08:27.114 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002486ADC5C60>
    └ <WorkerThread(AnyIO worker thread, started 1564)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000248710ED580>
    └ <WorkerThread(AnyIO worker thread, started 1564)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000024870F55120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000024870FAEF40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002486FFF4FE0>
               └ <app.services.ai_service.AIAssistant object at 0x0000024870F12600>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000024870DA2840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000024870EE3260>
                 │    └ <openai.OpenAI object at 0x0000024870F13B00>
                 └ <app.services.ai_service.AIAssistant object at 0x0000024870F12600>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>,)
           └ <function Completions.create at 0x0000024870DA2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000024870F13B00>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x00000248706A9D00>
           │    │          └ <openai.OpenAI object at 0x0000024870F13B00>
           │    └ ~ResponseT
           └ <function cast at 0x000002486CB6D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x00000248706A9E40>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x00000248706A9E40>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x00000248706A8400>
          └ <openai.OpenAI object at 0x0000024870F13B00>

openai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-04-01 21:08:27.134 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002486ADC5C60>
    └ <WorkerThread(AnyIO worker thread, started 1564)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000248710ED580>
    └ <WorkerThread(AnyIO worker thread, started 1564)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000024870F55120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000024870FAEF40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002486FFF4FE0>
               └ <app.services.ai_service.AIAssistant object at 0x0000024870F12600>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000024870DA2840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000024870EE3260>
                 │    └ <openai.OpenAI object at 0x0000024870F13B00>
                 └ <app.services.ai_service.AIAssistant object at 0x0000024870F12600>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>,)
           └ <function Completions.create at 0x0000024870DA2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000024870F13B00>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x00000248706A9D00>
           │    │          └ <openai.OpenAI object at 0x0000024870F13B00>
           │    └ ~ResponseT
           └ <function cast at 0x000002486CB6D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x00000248706A9E40>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x00000248706A9E40>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x00000248706A8400>
          └ <openai.OpenAI object at 0x0000024870F13B00>

openai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-04-01 21:08:27.147 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000002486ADC5C60>
    └ <WorkerThread(AnyIO worker thread, started 1564)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000248710ED580>
    └ <WorkerThread(AnyIO worker thread, started 1564)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000024870F55120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000024870FAEF40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002486FFF4FE0>
               └ <app.services.ai_service.AIAssistant object at 0x0000024870F12600>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000024870DA2840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000024870EE3260>
                 │    └ <openai.OpenAI object at 0x0000024870F13B00>
                 └ <app.services.ai_service.AIAssistant object at 0x0000024870F12600>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>,)
           └ <function Completions.create at 0x0000024870DA2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000024870F13B00>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x00000248710F81D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x00000248706A9D00>
           │    │          └ <openai.OpenAI object at 0x0000024870F13B00>
           │    └ ~ResponseT
           └ <function cast at 0x000002486CB6D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x00000248706A9E40>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1008, in _request
    return self._retry_request(
           │    └ <function SyncAPIClient._retry_request at 0x00000248706A9E40>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1057, in _retry_request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x00000248706A9DA0>
           └ <openai.OpenAI object at 0x0000024870F13B00>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x00000248706A8400>
          └ <openai.OpenAI object at 0x0000024870F13B00>

openai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-04-01 21:08:27.159 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 5.122s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 21:08:27.160 | INFO     | logging:callHandlers:1762 - 127.0.0.1:6194 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 21:10:07.377 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:10:07.377 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:10:07.479 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:10:07.482 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:10:07.482 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:10:07.483 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:10:07.484 | INFO     | logging:callHandlers:1762 - Finished server process [27100]
2025-04-01 21:10:07.484 | INFO     | logging:callHandlers:1762 - Finished server process [27100]
2025-04-01 21:10:10.313 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 21:10:10.319 | INFO     | logging:callHandlers:1762 - Started server process [29292]
2025-04-01 21:10:10.321 | INFO     | logging:callHandlers:1762 - Started server process [29292]
2025-04-01 21:10:10.321 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:10:10.322 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:10:10.559 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:10:10.560 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:10:10.561 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:10:10.562 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:10:10.563 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:10:10.563 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:10:12.286 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-01 21:10:12.288 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-01 21:10:12.292 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000026517D35C60>
    └ <WorkerThread(AnyIO worker thread, started 34288)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002651E08D580>
    └ <WorkerThread(AnyIO worker thread, started 34288)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002651DEF5120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002651E044740>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002651CFA4FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002651DEB2450>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002651DD3E840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002651DD16960>
                 │    └ <openai.OpenAI object at 0x000002651DEB2570>
                 └ <app.services.ai_service.AIAssistant object at 0x000002651DEB2450>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>,)
           └ <function Completions.create at 0x000002651DD3E660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002651DEB2570>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002651D659D00>
           │    │          └ <openai.OpenAI object at 0x000002651DEB2570>
           │    └ ~ResponseT
           └ <function cast at 0x0000026519ADD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002651D659DA0>
           └ <openai.OpenAI object at 0x000002651DEB2570>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002651D658400>
          └ <openai.OpenAI object at 0x000002651DEB2570>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:10:12.302 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000026517D35C60>
    └ <WorkerThread(AnyIO worker thread, started 34288)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002651E08D580>
    └ <WorkerThread(AnyIO worker thread, started 34288)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002651DEF5120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002651E044740>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002651CFA4FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002651DEB2450>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002651DD3E840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002651DD16960>
                 │    └ <openai.OpenAI object at 0x000002651DEB2570>
                 └ <app.services.ai_service.AIAssistant object at 0x000002651DEB2450>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>,)
           └ <function Completions.create at 0x000002651DD3E660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002651DEB2570>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002651D659D00>
           │    │          └ <openai.OpenAI object at 0x000002651DEB2570>
           │    └ ~ResponseT
           └ <function cast at 0x0000026519ADD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002651D659DA0>
           └ <openai.OpenAI object at 0x000002651DEB2570>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002651D658400>
          └ <openai.OpenAI object at 0x000002651DEB2570>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:10:12.311 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000026517D35C60>
    └ <WorkerThread(AnyIO worker thread, started 34288)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002651E08D580>
    └ <WorkerThread(AnyIO worker thread, started 34288)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002651DEF5120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002651E044740>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002651CFA4FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002651DEB2450>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002651DD3E840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002651DD16960>
                 │    └ <openai.OpenAI object at 0x000002651DEB2570>
                 └ <app.services.ai_service.AIAssistant object at 0x000002651DEB2450>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>,)
           └ <function Completions.create at 0x000002651DD3E660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002651DEB2570>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002651D659D00>
           │    │          └ <openai.OpenAI object at 0x000002651DEB2570>
           │    └ ~ResponseT
           └ <function cast at 0x0000026519ADD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002651D659DA0>
           └ <openai.OpenAI object at 0x000002651DEB2570>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002651D658400>
          └ <openai.OpenAI object at 0x000002651DEB2570>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:10:12.320 | ERROR    | logging:callHandlers:1762 - AI 服务错误: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000026517D35C60>
    └ <WorkerThread(AnyIO worker thread, started 34288)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000002651E08D580>
    └ <WorkerThread(AnyIO worker thread, started 34288)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000002651DEF5120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002651E044740>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000002651CFA4FE0>
               └ <app.services.ai_service.AIAssistant object at 0x000002651DEB2450>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000002651DD3E840>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000002651DD16960>
                 │    └ <openai.OpenAI object at 0x000002651DEB2570>
                 └ <app.services.ai_service.AIAssistant object at 0x000002651DEB2450>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>,)
           └ <function Completions.create at 0x000002651DD3E660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000002651DEB2570>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000002651E0982F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000002651D659D00>
           │    │          └ <openai.OpenAI object at 0x000002651DEB2570>
           │    └ ~ResponseT
           └ <function cast at 0x0000026519ADD260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000002651D659DA0>
           └ <openai.OpenAI object at 0x000002651DEB2570>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000002651D658400>
          └ <openai.OpenAI object at 0x000002651DEB2570>

openai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-FkkOV***************************************99PF. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-04-01 21:10:12.330 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.875s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 21:10:12.332 | INFO     | logging:callHandlers:1762 - 127.0.0.1:6518 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 21:16:01.657 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:16:01.659 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:16:01.762 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:16:01.764 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:16:01.765 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:16:01.766 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:16:01.766 | INFO     | logging:callHandlers:1762 - Finished server process [29292]
2025-04-01 21:16:01.767 | INFO     | logging:callHandlers:1762 - Finished server process [29292]
2025-04-01 21:16:04.420 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 21:16:04.427 | INFO     | logging:callHandlers:1762 - Started server process [4392]
2025-04-01 21:16:04.427 | INFO     | logging:callHandlers:1762 - Started server process [4392]
2025-04-01 21:16:04.428 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:16:04.428 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:16:04.653 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:16:04.655 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:16:04.656 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:16:04.656 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:16:04.657 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:16:04.658 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:16:07.824 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 21:16:07.825 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 21:16:07.827 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001A0A6CC5C60>
    └ <WorkerThread(AnyIO worker thread, started 36168)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000001A0AD071620>
    └ <WorkerThread(AnyIO worker thread, started 36168)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000001A0ACED51C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000001A0ACDC9380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000001A0ABF85080>
               └ <app.services.ai_service.AIAssistant object at 0x000001A0ABF8D370>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000001A0ACD228E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000001A0ACE93D70>
                 │    └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
                 └ <app.services.ai_service.AIAssistant object at 0x000001A0ABF8D370>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>,)
           └ <function Completions.create at 0x000001A0ACD22700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000001A0ABF8C8F0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000001A0AC639DA0>
           │    │          └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
           │    └ ~ResponseT
           └ <function cast at 0x000001A0A8A8D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000001A0AC639E40>
           └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000001A0AC6384A0>
          └ <openai.OpenAI object at 0x000001A0ABF8C8F0>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:16:07.838 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001A0A6CC5C60>
    └ <WorkerThread(AnyIO worker thread, started 36168)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000001A0AD071620>
    └ <WorkerThread(AnyIO worker thread, started 36168)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000001A0ACED51C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000001A0ACDC9380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000001A0ABF85080>
               └ <app.services.ai_service.AIAssistant object at 0x000001A0ABF8D370>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000001A0ACD228E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000001A0ACE93D70>
                 │    └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
                 └ <app.services.ai_service.AIAssistant object at 0x000001A0ABF8D370>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>,)
           └ <function Completions.create at 0x000001A0ACD22700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000001A0ABF8C8F0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000001A0AC639DA0>
           │    │          └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
           │    └ ~ResponseT
           └ <function cast at 0x000001A0A8A8D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000001A0AC639E40>
           └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000001A0AC6384A0>
          └ <openai.OpenAI object at 0x000001A0ABF8C8F0>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:16:07.846 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001A0A6CC5C60>
    └ <WorkerThread(AnyIO worker thread, started 36168)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000001A0AD071620>
    └ <WorkerThread(AnyIO worker thread, started 36168)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000001A0ACED51C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000001A0ACDC9380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000001A0ABF85080>
               └ <app.services.ai_service.AIAssistant object at 0x000001A0ABF8D370>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000001A0ACD228E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000001A0ACE93D70>
                 │    └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
                 └ <app.services.ai_service.AIAssistant object at 0x000001A0ABF8D370>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>,)
           └ <function Completions.create at 0x000001A0ACD22700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000001A0ABF8C8F0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000001A0AC639DA0>
           │    │          └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
           │    └ ~ResponseT
           └ <function cast at 0x000001A0A8A8D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000001A0AC639E40>
           └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000001A0AC6384A0>
          └ <openai.OpenAI object at 0x000001A0ABF8C8F0>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:16:07.855 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x000001A0A6CC5C60>
    └ <WorkerThread(AnyIO worker thread, started 36168)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x000001A0AD071620>
    └ <WorkerThread(AnyIO worker thread, started 36168)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x000001A0ACED51C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000001A0ACDC9380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x000001A0ABF85080>
               └ <app.services.ai_service.AIAssistant object at 0x000001A0ABF8D370>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x000001A0ACD228E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x000001A0ACE93D70>
                 │    └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
                 └ <app.services.ai_service.AIAssistant object at 0x000001A0ABF8D370>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>,)
           └ <function Completions.create at 0x000001A0ACD22700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x000001A0ABF8C8F0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x000001A0AD07C1A0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x000001A0AC639DA0>
           │    │          └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
           │    └ ~ResponseT
           └ <function cast at 0x000001A0A8A8D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x000001A0AC639E40>
           └ <openai.OpenAI object at 0x000001A0ABF8C8F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x000001A0AC6384A0>
          └ <openai.OpenAI object at 0x000001A0ABF8C8F0>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:16:07.864 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 1.602s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 21:16:07.865 | INFO     | logging:callHandlers:1762 - 127.0.0.1:7876 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 21:19:36.606 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:19:36.610 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:19:36.713 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:19:36.714 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:19:36.715 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:19:36.718 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:19:36.720 | INFO     | logging:callHandlers:1762 - Finished server process [4392]
2025-04-01 21:19:36.721 | INFO     | logging:callHandlers:1762 - Finished server process [4392]
2025-04-01 21:19:39.611 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 21:19:39.617 | INFO     | logging:callHandlers:1762 - Started server process [25108]
2025-04-01 21:19:39.618 | INFO     | logging:callHandlers:1762 - Started server process [25108]
2025-04-01 21:19:39.619 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:19:39.620 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:19:39.863 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:19:39.864 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:19:39.864 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:19:39.865 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:19:39.867 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:19:39.867 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:19:42.580 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 21:19:42.582 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 21:19:42.582 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A552A5C60>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A5B5CD620>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000029A5B4351C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000029A5B3261C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000029A5A4E9080>
               └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000029A5B2828E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000029A5B3633B0>
                 │    └ <openai.OpenAI object at 0x0000029A5B3F2660>
                 └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>,)
           └ <function Completions.create at 0x0000029A5B282700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000029A5B3F2660>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000029A5AB99DA0>
           │    │          └ <openai.OpenAI object at 0x0000029A5B3F2660>
           │    └ ~ResponseT
           └ <function cast at 0x0000029A5704D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000029A5AB99E40>
           └ <openai.OpenAI object at 0x0000029A5B3F2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x0000029A5AB984A0>
          └ <openai.OpenAI object at 0x0000029A5B3F2660>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:19:42.597 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A552A5C60>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A5B5CD620>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000029A5B4351C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000029A5B3261C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000029A5A4E9080>
               └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000029A5B2828E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000029A5B3633B0>
                 │    └ <openai.OpenAI object at 0x0000029A5B3F2660>
                 └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>,)
           └ <function Completions.create at 0x0000029A5B282700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000029A5B3F2660>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000029A5AB99DA0>
           │    │          └ <openai.OpenAI object at 0x0000029A5B3F2660>
           │    └ ~ResponseT
           └ <function cast at 0x0000029A5704D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000029A5AB99E40>
           └ <openai.OpenAI object at 0x0000029A5B3F2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x0000029A5AB984A0>
          └ <openai.OpenAI object at 0x0000029A5B3F2660>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:19:42.606 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A552A5C60>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A5B5CD620>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000029A5B4351C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000029A5B3261C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000029A5A4E9080>
               └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000029A5B2828E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000029A5B3633B0>
                 │    └ <openai.OpenAI object at 0x0000029A5B3F2660>
                 └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>,)
           └ <function Completions.create at 0x0000029A5B282700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000029A5B3F2660>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000029A5AB99DA0>
           │    │          └ <openai.OpenAI object at 0x0000029A5B3F2660>
           │    └ ~ResponseT
           └ <function cast at 0x0000029A5704D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000029A5AB99E40>
           └ <openai.OpenAI object at 0x0000029A5B3F2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x0000029A5AB984A0>
          └ <openai.OpenAI object at 0x0000029A5B3F2660>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:19:42.617 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A552A5C60>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A5B5CD620>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000029A5B4351C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000029A5B3261C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000029A5A4E9080>
               └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000029A5B2828E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000029A5B3633B0>
                 │    └ <openai.OpenAI object at 0x0000029A5B3F2660>
                 └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>,)
           └ <function Completions.create at 0x0000029A5B282700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000029A5B3F2660>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000029A5AB99DA0>
           │    │          └ <openai.OpenAI object at 0x0000029A5B3F2660>
           │    └ ~ResponseT
           └ <function cast at 0x0000029A5704D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000029A5AB99E40>
           └ <openai.OpenAI object at 0x0000029A5B3F2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x0000029A5AB984A0>
          └ <openai.OpenAI object at 0x0000029A5B3F2660>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:19:42.628 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 1.033s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 21:19:42.630 | INFO     | logging:callHandlers:1762 - 127.0.0.1:9254 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 21:21:39.059 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 21:21:39.061 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 21:21:39.063 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A552A5C60>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A5B5CD620>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000029A5B4351C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000029A5AEE8380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000029A5A4E9080>
               └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000029A5B2828E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000029A5B3633B0>
                 │    └ <openai.OpenAI object at 0x0000029A5B3F2660>
                 └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>,)
           └ <function Completions.create at 0x0000029A5B282700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000029A5B3F2660>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000029A5AB99DA0>
           │    │          └ <openai.OpenAI object at 0x0000029A5B3F2660>
           │    └ ~ResponseT
           └ <function cast at 0x0000029A5704D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000029A5AB99E40>
           └ <openai.OpenAI object at 0x0000029A5B3F2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x0000029A5AB984A0>
          └ <openai.OpenAI object at 0x0000029A5B3F2660>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:21:39.076 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A552A5C60>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A5B5CD620>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000029A5B4351C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000029A5AEE8380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000029A5A4E9080>
               └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000029A5B2828E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000029A5B3633B0>
                 │    └ <openai.OpenAI object at 0x0000029A5B3F2660>
                 └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>,)
           └ <function Completions.create at 0x0000029A5B282700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000029A5B3F2660>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000029A5AB99DA0>
           │    │          └ <openai.OpenAI object at 0x0000029A5B3F2660>
           │    └ ~ResponseT
           └ <function cast at 0x0000029A5704D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000029A5AB99E40>
           └ <openai.OpenAI object at 0x0000029A5B3F2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x0000029A5AB984A0>
          └ <openai.OpenAI object at 0x0000029A5B3F2660>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:21:39.083 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A552A5C60>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A5B5CD620>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000029A5B4351C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000029A5AEE8380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000029A5A4E9080>
               └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000029A5B2828E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000029A5B3633B0>
                 │    └ <openai.OpenAI object at 0x0000029A5B3F2660>
                 └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>,)
           └ <function Completions.create at 0x0000029A5B282700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000029A5B3F2660>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000029A5AB99DA0>
           │    │          └ <openai.OpenAI object at 0x0000029A5B3F2660>
           │    └ ~ResponseT
           └ <function cast at 0x0000029A5704D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000029A5AB99E40>
           └ <openai.OpenAI object at 0x0000029A5B3F2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x0000029A5AB984A0>
          └ <openai.OpenAI object at 0x0000029A5B3F2660>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:21:39.092 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000029A552A5C60>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000029A5B5CD620>
    └ <WorkerThread(AnyIO worker thread, started 3112)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000029A5B4351C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000029A5AEE8380>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000029A5A4E9080>
               └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000029A5B2828E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000029A5B3633B0>
                 │    └ <openai.OpenAI object at 0x0000029A5B3F2660>
                 └ <app.services.ai_service.AIAssistant object at 0x0000029A5B3F24B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>,)
           └ <function Completions.create at 0x0000029A5B282700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x0000029A5B3F2660>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000029A5B5D82C0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000029A5AB99DA0>
           │    │          └ <openai.OpenAI object at 0x0000029A5B3F2660>
           │    └ ~ResponseT
           └ <function cast at 0x0000029A5704D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000029A5AB99E40>
           └ <openai.OpenAI object at 0x0000029A5B3F2660>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x0000029A5AB984A0>
          └ <openai.OpenAI object at 0x0000029A5B3F2660>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:21:39.102 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.962s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 21:21:39.103 | INFO     | logging:callHandlers:1762 - 127.0.0.1:9609 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 21:32:10.991 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:32:10.998 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:32:11.110 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:32:11.116 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:32:11.125 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:32:11.129 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:32:11.135 | INFO     | logging:callHandlers:1762 - Finished server process [25108]
2025-04-01 21:32:11.136 | INFO     | logging:callHandlers:1762 - Finished server process [25108]
2025-04-01 21:32:14.588 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 21:32:14.593 | INFO     | logging:callHandlers:1762 - Started server process [26676]
2025-04-01 21:32:14.595 | INFO     | logging:callHandlers:1762 - Started server process [26676]
2025-04-01 21:32:14.596 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:32:14.597 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:32:14.850 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:32:14.851 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:32:14.852 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:32:14.853 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:32:14.854 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:32:14.854 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:32:16.710 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 21:32:16.712 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 21:32:16.716 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023271BB5C60>
    └ <WorkerThread(AnyIO worker thread, started 24932)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023277F61620>
    └ <WorkerThread(AnyIO worker thread, started 24932)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000023277DC51C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000023277ED02C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000023276E79080>
               └ <app.services.ai_service.AIAssistant object at 0x00000232772DA8D0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000023277C128E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000023277D83BF0>
                 │    └ <openai.OpenAI object at 0x00000232774757F0>
                 └ <app.services.ai_service.AIAssistant object at 0x00000232772DA8D0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>,)
           └ <function Completions.create at 0x0000023277C12700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x00000232774757F0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000023277529DA0>
           │    │          └ <openai.OpenAI object at 0x00000232774757F0>
           │    └ ~ResponseT
           └ <function cast at 0x000002327393D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000023277529E40>
           └ <openai.OpenAI object at 0x00000232774757F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x00000232775284A0>
          └ <openai.OpenAI object at 0x00000232774757F0>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:32:16.738 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023271BB5C60>
    └ <WorkerThread(AnyIO worker thread, started 24932)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023277F61620>
    └ <WorkerThread(AnyIO worker thread, started 24932)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000023277DC51C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000023277ED02C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000023276E79080>
               └ <app.services.ai_service.AIAssistant object at 0x00000232772DA8D0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000023277C128E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000023277D83BF0>
                 │    └ <openai.OpenAI object at 0x00000232774757F0>
                 └ <app.services.ai_service.AIAssistant object at 0x00000232772DA8D0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>,)
           └ <function Completions.create at 0x0000023277C12700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x00000232774757F0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000023277529DA0>
           │    │          └ <openai.OpenAI object at 0x00000232774757F0>
           │    └ ~ResponseT
           └ <function cast at 0x000002327393D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000023277529E40>
           └ <openai.OpenAI object at 0x00000232774757F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x00000232775284A0>
          └ <openai.OpenAI object at 0x00000232774757F0>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:32:16.749 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023271BB5C60>
    └ <WorkerThread(AnyIO worker thread, started 24932)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023277F61620>
    └ <WorkerThread(AnyIO worker thread, started 24932)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000023277DC51C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000023277ED02C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000023276E79080>
               └ <app.services.ai_service.AIAssistant object at 0x00000232772DA8D0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000023277C128E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000023277D83BF0>
                 │    └ <openai.OpenAI object at 0x00000232774757F0>
                 └ <app.services.ai_service.AIAssistant object at 0x00000232772DA8D0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>,)
           └ <function Completions.create at 0x0000023277C12700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x00000232774757F0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000023277529DA0>
           │    │          └ <openai.OpenAI object at 0x00000232774757F0>
           │    └ ~ResponseT
           └ <function cast at 0x000002327393D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000023277529E40>
           └ <openai.OpenAI object at 0x00000232774757F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x00000232775284A0>
          └ <openai.OpenAI object at 0x00000232774757F0>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:32:16.758 | ERROR    | logging:callHandlers:1762 - AI 服务错误: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x0000023271BB5C60>
    └ <WorkerThread(AnyIO worker thread, started 24932)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x0000023277F61620>
    └ <WorkerThread(AnyIO worker thread, started 24932)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000023277DC51C0>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x0000023277ED02C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000023276E79080>
               └ <app.services.ai_service.AIAssistant object at 0x00000232772DA8D0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 17, in get_response
    completion = self.client.chat.completions.create(
                 │    │      │    │           └ <function Completions.create at 0x0000023277C128E0>
                 │    │      │    └ <openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>
                 │    │      └ <openai.resources.chat.chat.Chat object at 0x0000023277D83BF0>
                 │    └ <openai.OpenAI object at 0x00000232774757F0>
                 └ <app.services.ai_service.AIAssistant object at 0x00000232772DA8D0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_utils\_utils.py", line 279, in wrapper
    return func(*args, **kwargs)
           │     │       └ {'model': 'gpt-3.5-turbo', 'messages': [{'role': 'system', 'content': '你是一个手语助手，帮助我来学习手语的相关知识。'}, {'role': 'user', 'content':...
           │     └ (<openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>,)
           └ <function Completions.create at 0x0000023277C12700>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\resources\chat\completions\completions.py", line 914, in create
    return self._post(
           │    └ <bound method SyncAPIClient.post of <openai.OpenAI object at 0x00000232774757F0>>
           └ <openai.resources.chat.completions.completions.Completions object at 0x0000023277F6C1D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
           │    │          │    │       │        │            │                  └ openai.Stream[openai.types.chat.chat_completion_chunk.ChatCompletionChunk]
           │    │          │    │       │        │            └ False
           │    │          │    │       │        └ FinalRequestOptions(method='post', url='/chat/completions', params={}, headers=NOT_GIVEN, max_retries=NOT_GIVEN, timeout=NOT_...
           │    │          │    │       └ <class 'openai.types.chat.chat_completion.ChatCompletion'>
           │    │          │    └ <function SyncAPIClient.request at 0x0000023277529DA0>
           │    │          └ <openai.OpenAI object at 0x00000232774757F0>
           │    └ ~ResponseT
           └ <function cast at 0x000002327393D260>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 919, in request
    return self._request(
           │    └ <function SyncAPIClient._request at 0x0000023277529E40>
           └ <openai.OpenAI object at 0x00000232774757F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\openai\_base_client.py", line 1023, in _request
    raise self._make_status_error_from_response(err.response) from None
          │    └ <function BaseClient._make_status_error_from_response at 0x00000232775284A0>
          └ <openai.OpenAI object at 0x00000232774757F0>

openai.APIStatusError: <html>
<head><title>405 Not Allowed</title></head>
<body>
<center><h1>405 Not Allowed</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>
</body>
</html>
2025-04-01 21:32:16.773 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 1.088s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 21:32:16.774 | INFO     | logging:callHandlers:1762 - 127.0.0.1:11823 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 21:36:24.598 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:36:24.599 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 21:36:24.702 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:36:24.704 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 21:36:24.705 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:36:24.706 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 21:36:24.706 | INFO     | logging:callHandlers:1762 - Finished server process [26676]
2025-04-01 21:36:24.706 | INFO     | logging:callHandlers:1762 - Finished server process [26676]
2025-04-01 21:45:34.768 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 21:45:34.774 | INFO     | logging:callHandlers:1762 - Started server process [32776]
2025-04-01 21:45:34.775 | INFO     | logging:callHandlers:1762 - Started server process [32776]
2025-04-01 21:45:34.776 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:45:34.777 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 21:45:35.033 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:45:35.035 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:45:35.035 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:45:35.036 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 21:45:35.036 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 21:45:35.036 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:11:48.045 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 22:11:48.052 | INFO     | logging:callHandlers:1762 - Started server process [23180]
2025-04-01 22:11:48.053 | INFO     | logging:callHandlers:1762 - Started server process [23180]
2025-04-01 22:11:48.056 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:11:48.056 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:11:48.279 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:11:48.280 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:11:48.281 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:11:48.282 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:11:48.282 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:11:48.283 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:11:58.181 | INFO     | app.core.middleware:dispatch:38 - GET / 200 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Trae/1.97.2 Chrome/128.0.6613.186 Electron/32.2.7 Safari/537.36
2025-04-01 22:11:58.184 | INFO     | logging:callHandlers:1762 - 127.0.0.1:3930 - "GET /?ide_webview_request_time=1743516718146 HTTP/1.1" 200
2025-04-01 22:14:29.976 | ERROR    | app.core.middleware:dispatch:47 - POST /api/v1/ai/chat 500 0.002s - IP: 127.0.0.1 - UA: python-requests/2.32.3 - Error: name 'logger' is not defined
2025-04-01 22:14:29.978 | ERROR    | app.core.middleware:dispatch:66 - 未处理的异常: name 'logger' is not defined
Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x000002525468F060>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x000002525468F100>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x0000025251FC27A0>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x0000025251EC0720>
           └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025251EBBC40>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025251F88410>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    └ <function subprocess_started at 0x0000025254321440>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002525433E030>>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000252543209A0>
           │       │   └ <uvicorn.server.Server object at 0x000002525433E030>
           │       └ <function run at 0x0000025251FC32E0>
           └ <module 'asyncio' from 'D:\\python环境\\Lib\\asyncio\\__init__.py'>
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x00000252541CB840>
           │      └ <function Runner.run at 0x0000025253C1DB20>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000025253C1B740>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\base_events.py", line 651, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025253C1B6A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 618, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025253C1D4E0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 1951, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025253B1BBA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025258167E20>()>
  File "D:\python环境\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025258167E20>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025258167E20>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025258167E20>()>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187800>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\applications.py", line 292, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187800>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187800>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
          └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581CED40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581CED40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEB60>
                     │    │             └ <starlette.requests.Request object at 0x00000252581D0A10>
                     │    └ <bound method ExceptionMiddleware.dispatch of <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>>
                     └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 63, in dispatch
    return await call_next(request)
                 │         └ <starlette.requests.Request object at 0x00000252581D0A10>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEB60>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581CF740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF2E0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CFC40>
                     │    │             └ <starlette.requests.Request object at 0x00000252581D1130>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>>
                     └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 33, in dispatch
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x00000252581D1130>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CFC40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581CFCE0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002525812C170>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002525482A2A0>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002525815C400>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000252581D15B0>
                     └ <function get_request_handler.<locals>.app at 0x000002525815C360>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002525482B380>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 192, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'chat_message': ChatMessage(message='今天天气怎么样，请介绍一下自己')}
                 │                 │         └ <function chat_with_ai at 0x0000025258035120>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x000002525812EDB0>
                 └ <function run_in_threadpool at 0x00000252545C5580>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
                 │     │         └ <function run_sync at 0x0000025254640860>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\to_thread....
                 └ <module 'anyio' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x00000252545C77E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'logger' is not defined")>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000252581D8FC0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000025257626C00>
               └ <app.services.ai_service.AIAssistant object at 0x00000252570AACF0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 40, in get_response
    logger.error(f"AI 服务错误: {str(e)}", exc_info=True)

NameError: name 'logger' is not defined
2025-04-01 22:14:30.172 | INFO     | logging:callHandlers:1762 - 127.0.0.1:4155 - "POST /api/v1/ai/chat HTTP/1.1" 500
2025-04-01 22:14:30.173 | ERROR    | logging:callHandlers:1762 - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x000002525468F060>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x000002525468F100>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x0000025251FC27A0>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x0000025251EC0720>
           └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025251EBBC40>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025251F88410>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    └ <function subprocess_started at 0x0000025254321440>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002525433E030>>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000252543209A0>
           │       │   └ <uvicorn.server.Server object at 0x000002525433E030>
           │       └ <function run at 0x0000025251FC32E0>
           └ <module 'asyncio' from 'D:\\python环境\\Lib\\asyncio\\__init__.py'>
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x00000252541CB840>
           │      └ <function Runner.run at 0x0000025253C1DB20>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000025253C1B740>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\base_events.py", line 651, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025253C1B6A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 618, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025253C1D4E0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 1951, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025253B1BBA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\python环境\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187800>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\applications.py", line 292, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187800>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187800>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
          └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581CED40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581CED40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEB60>
                     │    │             └ <starlette.requests.Request object at 0x00000252581D0A10>
                     │    └ <bound method ExceptionMiddleware.dispatch of <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>>
                     └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 63, in dispatch
    return await call_next(request)
                 │         └ <starlette.requests.Request object at 0x00000252581D0A10>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEB60>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581CF740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF2E0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CFC40>
                     │    │             └ <starlette.requests.Request object at 0x00000252581D1130>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>>
                     └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 33, in dispatch
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x00000252581D1130>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CFC40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581CFCE0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002525812C170>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002525482A2A0>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002525815C400>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000252581D15B0>
                     └ <function get_request_handler.<locals>.app at 0x000002525815C360>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002525482B380>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 192, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'chat_message': ChatMessage(message='今天天气怎么样，请介绍一下自己')}
                 │                 │         └ <function chat_with_ai at 0x0000025258035120>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x000002525812EDB0>
                 └ <function run_in_threadpool at 0x00000252545C5580>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
                 │     │         └ <function run_sync at 0x0000025254640860>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\to_thread....
                 └ <module 'anyio' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x00000252545C77E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'logger' is not defined")>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000252581D8FC0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000025257626C00>
               └ <app.services.ai_service.AIAssistant object at 0x00000252570AACF0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 40, in get_response
    logger.error(f"AI 服务错误: {str(e)}", exc_info=True)

NameError: name 'logger' is not defined
2025-04-01 22:14:30.203 | ERROR    | logging:callHandlers:1762 - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x000002525468F060>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x000002525468F100>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x0000025251FC27A0>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x0000025251EC0720>
           └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025251EBBC40>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025251F88410>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    └ <function subprocess_started at 0x0000025254321440>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002525433E030>>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000252543209A0>
           │       │   └ <uvicorn.server.Server object at 0x000002525433E030>
           │       └ <function run at 0x0000025251FC32E0>
           └ <module 'asyncio' from 'D:\\python环境\\Lib\\asyncio\\__init__.py'>
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x00000252541CB840>
           │      └ <function Runner.run at 0x0000025253C1DB20>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000025253C1B740>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\base_events.py", line 651, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025253C1B6A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 618, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025253C1D4E0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 1951, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025253B1BBA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\python环境\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187800>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\applications.py", line 292, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187800>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187800>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
          └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581CED40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581CED40>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x0000025258187...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEB60>
                     │    │             └ <starlette.requests.Request object at 0x00000252581D0A10>
                     │    └ <bound method ExceptionMiddleware.dispatch of <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>>
                     └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 63, in dispatch
    return await call_next(request)
                 │         └ <starlette.requests.Request object at 0x00000252581D0A10>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEB60>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581CF740>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF2E0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CFC40>
                     │    │             └ <starlette.requests.Request object at 0x00000252581D1130>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>>
                     └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 33, in dispatch
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x00000252581D1130>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CFC40>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581CFCE0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002525812C170>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002525482A2A0>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581CF920>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581CF600>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002525815C400>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x00000252581D15B0>
                     └ <function get_request_handler.<locals>.app at 0x000002525815C360>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002525482B380>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 192, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'chat_message': ChatMessage(message='今天天气怎么样，请介绍一下自己')}
                 │                 │         └ <function chat_with_ai at 0x0000025258035120>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x000002525812EDB0>
                 └ <function run_in_threadpool at 0x00000252545C5580>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
                 │     │         └ <function run_sync at 0x0000025254640860>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\to_thread....
                 └ <module 'anyio' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x00000252545C77E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'logger' is not defined")>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000252581D8FC0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000025257626C00>
               └ <app.services.ai_service.AIAssistant object at 0x00000252570AACF0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 40, in get_response
    logger.error(f"AI 服务错误: {str(e)}", exc_info=True)

NameError: name 'logger' is not defined
2025-04-01 22:15:07.665 | ERROR    | app.core.middleware:dispatch:47 - POST /api/v1/ai/chat 500 0.000s - IP: 127.0.0.1 - UA: python-requests/2.32.3 - Error: name 'logger' is not defined
2025-04-01 22:15:07.667 | ERROR    | app.core.middleware:dispatch:66 - 未处理的异常: name 'logger' is not defined
Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x000002525468F060>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x000002525468F100>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x0000025251FC27A0>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x0000025251EC0720>
           └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025251EBBC40>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025251F88410>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    └ <function subprocess_started at 0x0000025254321440>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002525433E030>>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000252543209A0>
           │       │   └ <uvicorn.server.Server object at 0x000002525433E030>
           │       └ <function run at 0x0000025251FC32E0>
           └ <module 'asyncio' from 'D:\\python环境\\Lib\\asyncio\\__init__.py'>
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x00000252541CB840>
           │      └ <function Runner.run at 0x0000025253C1DB20>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000025253C1B740>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\base_events.py", line 651, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025253C1B6A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 618, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025253C1D4E0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 1951, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025253B1BBA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000002525860B670>()>
  File "D:\python环境\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000002525860B670>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000002525860B670>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x000002525860B670>()>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860AF00>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\applications.py", line 292, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860AF00>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860AF00>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
          └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252543422A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252543422A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEDE0>
                     │    │             └ <starlette.requests.Request object at 0x00000252586085C0>
                     │    └ <bound method ExceptionMiddleware.dispatch of <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>>
                     └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 63, in dispatch
    return await call_next(request)
                 │         └ <starlette.requests.Request object at 0x00000252586085C0>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEDE0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E4220>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E4CC0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4E00>
                     │    │             └ <starlette.requests.Request object at 0x000002525860B380>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>>
                     └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 33, in dispatch
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x000002525860B380>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4E00>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E51C0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002525812C170>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002525482A2A0>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002525815C400>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002525860B7D0>
                     └ <function get_request_handler.<locals>.app at 0x000002525815C360>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002525482B380>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 192, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'chat_message': ChatMessage(message='今天天气怎么样，请介绍一下自己')}
                 │                 │         └ <function chat_with_ai at 0x0000025258035120>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x000002525812EDB0>
                 └ <function run_in_threadpool at 0x00000252545C5580>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
                 │     │         └ <function run_sync at 0x0000025254640860>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\to_thread....
                 └ <module 'anyio' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x00000252545C77E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'logger' is not defined")>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000252586182C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000025257626C00>
               └ <app.services.ai_service.AIAssistant object at 0x00000252570AACF0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 40, in get_response
    logger.error(f"AI 服务错误: {str(e)}", exc_info=True)

NameError: name 'logger' is not defined
2025-04-01 22:15:07.689 | INFO     | logging:callHandlers:1762 - 127.0.0.1:4241 - "POST /api/v1/ai/chat HTTP/1.1" 500
2025-04-01 22:15:07.691 | ERROR    | logging:callHandlers:1762 - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x000002525468F060>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x000002525468F100>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x0000025251FC27A0>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x0000025251EC0720>
           └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025251EBBC40>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025251F88410>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    └ <function subprocess_started at 0x0000025254321440>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002525433E030>>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000252543209A0>
           │       │   └ <uvicorn.server.Server object at 0x000002525433E030>
           │       └ <function run at 0x0000025251FC32E0>
           └ <module 'asyncio' from 'D:\\python环境\\Lib\\asyncio\\__init__.py'>
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x00000252541CB840>
           │      └ <function Runner.run at 0x0000025253C1DB20>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000025253C1B740>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\base_events.py", line 651, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025253C1B6A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 618, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025253C1D4E0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 1951, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025253B1BBA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\python环境\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860AF00>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\applications.py", line 292, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860AF00>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860AF00>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
          └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252543422A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252543422A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEDE0>
                     │    │             └ <starlette.requests.Request object at 0x00000252586085C0>
                     │    └ <bound method ExceptionMiddleware.dispatch of <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>>
                     └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 63, in dispatch
    return await call_next(request)
                 │         └ <starlette.requests.Request object at 0x00000252586085C0>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEDE0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E4220>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E4CC0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4E00>
                     │    │             └ <starlette.requests.Request object at 0x000002525860B380>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>>
                     └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 33, in dispatch
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x000002525860B380>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4E00>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E51C0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002525812C170>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002525482A2A0>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002525815C400>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002525860B7D0>
                     └ <function get_request_handler.<locals>.app at 0x000002525815C360>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002525482B380>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 192, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'chat_message': ChatMessage(message='今天天气怎么样，请介绍一下自己')}
                 │                 │         └ <function chat_with_ai at 0x0000025258035120>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x000002525812EDB0>
                 └ <function run_in_threadpool at 0x00000252545C5580>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
                 │     │         └ <function run_sync at 0x0000025254640860>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\to_thread....
                 └ <module 'anyio' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x00000252545C77E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'logger' is not defined")>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000252586182C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000025257626C00>
               └ <app.services.ai_service.AIAssistant object at 0x00000252570AACF0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 40, in get_response
    logger.error(f"AI 服务错误: {str(e)}", exc_info=True)

NameError: name 'logger' is not defined
2025-04-01 22:15:07.719 | ERROR    | logging:callHandlers:1762 - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x000002525468F060>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x000002525468F100>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x0000025251FC27A0>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x0000025251EC0720>
           └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025251EBBC40>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025251F88410>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    └ <function subprocess_started at 0x0000025254321440>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002525433E030>>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000252543209A0>
           │       │   └ <uvicorn.server.Server object at 0x000002525433E030>
           │       └ <function run at 0x0000025251FC32E0>
           └ <module 'asyncio' from 'D:\\python环境\\Lib\\asyncio\\__init__.py'>
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x00000252541CB840>
           │      └ <function Runner.run at 0x0000025253C1DB20>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000025253C1B740>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\base_events.py", line 651, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025253C1B6A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 618, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025253C1D4E0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 1951, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025253B1BBA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\python环境\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860AF00>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\applications.py", line 292, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860AF00>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860AF00>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
          └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252543422A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252543422A0>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525860A...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEDE0>
                     │    │             └ <starlette.requests.Request object at 0x00000252586085C0>
                     │    └ <bound method ExceptionMiddleware.dispatch of <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>>
                     └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 63, in dispatch
    return await call_next(request)
                 │         └ <starlette.requests.Request object at 0x00000252586085C0>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581CEDE0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E4220>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E4CC0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4E00>
                     │    │             └ <starlette.requests.Request object at 0x000002525860B380>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>>
                     └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 33, in dispatch
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x000002525860B380>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4E00>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E51C0>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002525812C170>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002525482A2A0>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E5580>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5080>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002525815C400>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x000002525860B7D0>
                     └ <function get_request_handler.<locals>.app at 0x000002525815C360>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002525482B380>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 192, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'chat_message': ChatMessage(message='今天天气怎么样，请介绍一下自己')}
                 │                 │         └ <function chat_with_ai at 0x0000025258035120>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x000002525812EDB0>
                 └ <function run_in_threadpool at 0x00000252545C5580>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
                 │     │         └ <function run_sync at 0x0000025254640860>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\to_thread....
                 └ <module 'anyio' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x00000252545C77E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'logger' is not defined")>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000252586182C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000025257626C00>
               └ <app.services.ai_service.AIAssistant object at 0x00000252570AACF0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 40, in get_response
    logger.error(f"AI 服务错误: {str(e)}", exc_info=True)

NameError: name 'logger' is not defined
2025-04-01 22:16:55.006 | ERROR    | app.core.middleware:dispatch:47 - POST /api/v1/ai/chat 500 0.001s - IP: 127.0.0.1 - UA: python-requests/2.32.3 - Error: name 'logger' is not defined
2025-04-01 22:16:55.008 | ERROR    | app.core.middleware:dispatch:66 - 未处理的异常: name 'logger' is not defined
Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x000002525468F060>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x000002525468F100>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x0000025251FC27A0>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x0000025251EC0720>
           └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025251EBBC40>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025251F88410>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    └ <function subprocess_started at 0x0000025254321440>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002525433E030>>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000252543209A0>
           │       │   └ <uvicorn.server.Server object at 0x000002525433E030>
           │       └ <function run at 0x0000025251FC32E0>
           └ <module 'asyncio' from 'D:\\python环境\\Lib\\asyncio\\__init__.py'>
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x00000252541CB840>
           │      └ <function Runner.run at 0x0000025253C1DB20>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000025253C1B740>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\base_events.py", line 651, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025253C1B6A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 618, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025253C1D4E0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 1951, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025253B1BBA0>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025258101B10>()>
  File "D:\python环境\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025258101B10>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025258101B10>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <_asyncio.TaskStepMethWrapper object at 0x0000025258101B10>()>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B980>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\applications.py", line 292, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B980>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B980>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
          └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581E5940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581E5940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4D60>
                     │    │             └ <starlette.requests.Request object at 0x000002525862B410>
                     │    └ <bound method ExceptionMiddleware.dispatch of <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>>
                     └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>

> File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 63, in dispatch
    return await call_next(request)
                 │         └ <starlette.requests.Request object at 0x000002525862B410>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4D60>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E5A80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E56C0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E5B20>
                     │    │             └ <starlette.requests.Request object at 0x000002525862BE00>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>>
                     └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 33, in dispatch
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x000002525862BE00>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E5B20>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E5C60>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002525812C170>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002525482A2A0>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002525815C400>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025258630200>
                     └ <function get_request_handler.<locals>.app at 0x000002525815C360>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002525482B380>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 192, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'chat_message': ChatMessage(message='今天天气怎么样，请介绍一下自己')}
                 │                 │         └ <function chat_with_ai at 0x0000025258035120>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x000002525812EDB0>
                 └ <function run_in_threadpool at 0x00000252545C5580>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
                 │     │         └ <function run_sync at 0x0000025254640860>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\to_thread....
                 └ <module 'anyio' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x00000252545C77E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'logger' is not defined")>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002525861B640>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000025257626C00>
               └ <app.services.ai_service.AIAssistant object at 0x00000252570AACF0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 40, in get_response
    logger.error(f"AI 服务错误: {str(e)}", exc_info=True)

NameError: name 'logger' is not defined
2025-04-01 22:16:55.030 | INFO     | logging:callHandlers:1762 - 127.0.0.1:4384 - "POST /api/v1/ai/chat HTTP/1.1" 500
2025-04-01 22:16:55.032 | ERROR    | logging:callHandlers:1762 - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x000002525468F060>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x000002525468F100>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x0000025251FC27A0>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x0000025251EC0720>
           └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025251EBBC40>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025251F88410>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    └ <function subprocess_started at 0x0000025254321440>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002525433E030>>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000252543209A0>
           │       │   └ <uvicorn.server.Server object at 0x000002525433E030>
           │       └ <function run at 0x0000025251FC32E0>
           └ <module 'asyncio' from 'D:\\python环境\\Lib\\asyncio\\__init__.py'>
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x00000252541CB840>
           │      └ <function Runner.run at 0x0000025253C1DB20>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000025253C1B740>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\base_events.py", line 651, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025253C1B6A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 618, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025253C1D4E0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 1951, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025253B1BBA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\python环境\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B980>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\applications.py", line 292, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B980>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B980>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
          └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581E5940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581E5940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4D60>
                     │    │             └ <starlette.requests.Request object at 0x000002525862B410>
                     │    └ <bound method ExceptionMiddleware.dispatch of <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>>
                     └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 63, in dispatch
    return await call_next(request)
                 │         └ <starlette.requests.Request object at 0x000002525862B410>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4D60>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E5A80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E56C0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E5B20>
                     │    │             └ <starlette.requests.Request object at 0x000002525862BE00>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>>
                     └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 33, in dispatch
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x000002525862BE00>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E5B20>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E5C60>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002525812C170>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002525482A2A0>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002525815C400>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025258630200>
                     └ <function get_request_handler.<locals>.app at 0x000002525815C360>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002525482B380>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 192, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'chat_message': ChatMessage(message='今天天气怎么样，请介绍一下自己')}
                 │                 │         └ <function chat_with_ai at 0x0000025258035120>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x000002525812EDB0>
                 └ <function run_in_threadpool at 0x00000252545C5580>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
                 │     │         └ <function run_sync at 0x0000025254640860>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\to_thread....
                 └ <module 'anyio' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x00000252545C77E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'logger' is not defined")>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002525861B640>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000025257626C00>
               └ <app.services.ai_service.AIAssistant object at 0x00000252570AACF0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 40, in get_response
    logger.error(f"AI 服务错误: {str(e)}", exc_info=True)

NameError: name 'logger' is not defined
2025-04-01 22:16:55.057 | ERROR    | logging:callHandlers:1762 - Exception in ASGI application

Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 98, in receive
    return self.receive_nowait()
           │    └ <function MemoryObjectReceiveStream.receive_nowait at 0x000002525468F060>
           └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 93, in receive_nowait
    raise WouldBlock
          └ <class 'anyio.WouldBlock'>

anyio.WouldBlock


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 78, in call_next
    message = await recv_stream.receive()
                    │           └ <function MemoryObjectReceiveStream.receive at 0x000002525468F100>
                    └ MemoryObjectReceiveStream(_state=MemoryObjectStreamState(max_buffer_size=0, buffer=deque([]), open_send_channels=0, open_rece...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\streams\memory.py", line 118, in receive
    raise EndOfStream
          └ <class 'anyio.EndOfStream'>

anyio.EndOfStream


During handling of the above exception, another exception occurred:


Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 396
               │     └ 3
               └ <function _main at 0x0000025251FC27A0>
  File "D:\python环境\Lib\multiprocessing\spawn.py", line 135, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 396
           │    └ <function BaseProcess._bootstrap at 0x0000025251EC0720>
           └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000025251EBBC40>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "D:\python环境\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000025251F88410>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
    │    └ <function subprocess_started at 0x0000025254321440>
    └ <SpawnProcess name='SpawnProcess-2' parent=12312 started>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\_subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000002525433E030>>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 61, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=760, family=2, type=1, proto=6, laddr=('127.0.0.1', 8000)>]
           │       │   │    └ <function Server.serve at 0x00000252543209A0>
           │       │   └ <uvicorn.server.Server object at 0x000002525433E030>
           │       └ <function run at 0x0000025251FC32E0>
           └ <module 'asyncio' from 'D:\\python环境\\Lib\\asyncio\\__init__.py'>
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x00000252541CB840>
           │      └ <function Runner.run at 0x0000025253C1DB20>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000025253C1B740>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000025253CA6150>
  File "D:\python环境\Lib\asyncio\base_events.py", line 651, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000025253C1B6A0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 618, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000025253C1D4E0>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "D:\python环境\Lib\asyncio\base_events.py", line 1951, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000025253B1BBA0>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
  File "D:\python环境\Lib\asyncio\events.py", line 84, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle Task.task_wakeup(<Future finished result=None>)>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle Task.task_wakeup(<Future finished result=None>)>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\protocols\http\h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
                   └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B980>>
                 │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
                 │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
                 │    └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000025251F0E9F0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\applications.py", line 292, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B980>>
                           │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
                           └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method RequestResponseCycle.send of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B980>>
          │    │                │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
          │    │                └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
          └ <fastapi.applications.FastAPI object at 0x00000252542B8E30>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 184, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581E5940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000002525812FF50>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 83, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ServerErrorMiddleware.__call__.<locals>._send at 0x00000252581E5940>
          │    │   │      └ <bound method RequestResponseCycle.receive of <uvicorn.protocols.http.h11_impl.RequestResponseCycle object at 0x000002525862B...
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000002525812FF80>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4D60>
                     │    │             └ <starlette.requests.Request object at 0x000002525862B410>
                     │    └ <bound method ExceptionMiddleware.dispatch of <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>>
                     └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 63, in dispatch
    return await call_next(request)
                 │         └ <starlette.requests.Request object at 0x000002525862B410>
                 └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E4D60>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E5A80>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E56C0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000002525812E1B0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
                     │    │             │        └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E5B20>
                     │    │             └ <starlette.requests.Request object at 0x000002525862BE00>
                     │    └ <bound method RequestLoggingMiddleware.dispatch of <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>>
                     └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\middleware.py", line 33, in dispatch
    response = await call_next(request)
                     │         └ <starlette.requests.Request object at 0x000002525862BE00>
                     └ <function BaseHTTPMiddleware.__call__.<locals>.call_next at 0x00000252581E5B20>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 84, in call_next
    raise app_exc
          └ NameError("name 'logger' is not defined")
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
          │    │   │      │                      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.send_no_error at 0x00000252581E5C60>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000002525812FFB0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 79, in __call__
    raise exc
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\middleware\exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
          └ <starlette.middleware.exceptions.ExceptionMiddleware object at 0x000002525812F4D0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 20, in __call__
    raise e
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\middleware\asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <fastapi.routing.APIRouter object at 0x000002525812C170>
          └ <fastapi.middleware.asyncexitstack.AsyncExitStackMiddleware object at 0x000002525812F530>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
          │     │      │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │     │      │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │     │      └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │     └ <function Route.handle at 0x000002525482A2A0>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 276, in handle
    await self.app(scope, receive, send)
          │    │   │      │        └ <function ExceptionMiddleware.__call__.<locals>.sender at 0x00000252581E6160>
          │    │   │      └ <function BaseHTTPMiddleware.__call__.<locals>.call_next.<locals>.receive_or_disconnect at 0x00000252581E5DA0>
          │    │   └ {'type': 'http', 'asgi': {'version': '3.0', 'spec_version': '2.3'}, 'http_version': '1.1', 'server': ('127.0.0.1', 8000), 'cl...
          │    └ <function request_response.<locals>.app at 0x000002525815C400>
          └ APIRoute(path='/api/v1/ai/chat', name='chat_with_ai', methods=['POST'])
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 66, in app
    response = await func(request)
                     │    └ <starlette.requests.Request object at 0x0000025258630200>
                     └ <function get_request_handler.<locals>.app at 0x000002525815C360>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 273, in app
    raw_response = await run_endpoint_function(
                         └ <function run_endpoint_function at 0x000002525482B380>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\fastapi\routing.py", line 192, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
                 │                 │         │       └ {'chat_message': ChatMessage(message='今天天气怎么样，请介绍一下自己')}
                 │                 │         └ <function chat_with_ai at 0x0000025258035120>
                 │                 └ <fastapi.dependencies.models.Dependant object at 0x000002525812EDB0>
                 └ <function run_in_threadpool at 0x00000252545C5580>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\concurrency.py", line 41, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
                 │     │         │        │      └ ()
                 │     │         │        └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
                 │     │         └ <function run_sync at 0x0000025254640860>
                 │     └ <module 'anyio.to_thread' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\to_thread....
                 └ <module 'anyio' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\anyio\\__init__.py'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\to_thread.py", line 33, in run_sync
    return await get_asynclib().run_sync_in_worker_thread(
                 └ <function get_asynclib at 0x00000252545C77E0>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 877, in run_sync_in_worker_thread
    return await future
                 └ <Future finished exception=NameError("name 'logger' is not defined")>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function chat_with_ai at 0x0000025258035120>, chat_message=ChatMessage(message='今天天气怎么样，请介绍一下自己'))
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x000002525861B640>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\ai.py", line 19, in chat_with_ai
    response = ai_assistant.get_response(chat_message.message)
               │            │            │            └ '今天天气怎么样，请介绍一下自己'
               │            │            └ ChatMessage(message='今天天气怎么样，请介绍一下自己')
               │            └ <function AIAssistant.get_response at 0x0000025257626C00>
               └ <app.services.ai_service.AIAssistant object at 0x00000252570AACF0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\ai_service.py", line 40, in get_response
    logger.error(f"AI 服务错误: {str(e)}", exc_info=True)

NameError: name 'logger' is not defined
2025-04-01 22:19:22.222 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 22:19:22.228 | INFO     | logging:callHandlers:1762 - Started server process [35576]
2025-04-01 22:19:22.229 | INFO     | logging:callHandlers:1762 - Started server process [35576]
2025-04-01 22:19:22.230 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:19:22.233 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:19:22.459 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:19:22.461 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:19:22.462 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:19:22.463 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:19:22.464 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:19:22.465 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:19:30.926 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.001s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 22:19:30.927 | INFO     | logging:callHandlers:1762 - 127.0.0.1:4601 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 22:19:57.552 | INFO     | app.core.middleware:dispatch:38 - GET / 200 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Trae/1.97.2 Chrome/128.0.6613.186 Electron/32.2.7 Safari/537.36
2025-04-01 22:19:57.555 | INFO     | logging:callHandlers:1762 - 127.0.0.1:4651 - "GET /?ide_webview_request_time=1743517197541 HTTP/1.1" 200
2025-04-01 22:22:11.309 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:22:11.312 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:22:11.413 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:22:11.415 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:22:11.417 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:22:11.418 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:22:11.420 | INFO     | logging:callHandlers:1762 - Finished server process [35576]
2025-04-01 22:22:11.422 | INFO     | logging:callHandlers:1762 - Finished server process [35576]
2025-04-01 22:22:15.105 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 22:22:15.114 | INFO     | logging:callHandlers:1762 - Started server process [11600]
2025-04-01 22:22:15.115 | INFO     | logging:callHandlers:1762 - Started server process [11600]
2025-04-01 22:22:15.118 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:22:15.119 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:22:15.353 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:15.354 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:15.355 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:15.356 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:15.370 | ERROR    | logging:callHandlers:1762 - Traceback (most recent call last):
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\base_events.py", line 664, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 78, in serve
    await self.startup(sockets=sockets)
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 89, in startup
    await self.lifespan.startup()
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 54, in startup
    await self.startup_event.wait()
  File "D:\python环境\Lib\asyncio\locks.py", line 212, in wait
    await fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 686, in lifespan
    await receive()
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-04-01 22:22:15.371 | ERROR    | logging:callHandlers:1762 - Traceback (most recent call last):
  File "D:\python环境\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\base_events.py", line 664, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 78, in serve
    await self.startup(sockets=sockets)
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\server.py", line 89, in startup
    await self.lifespan.startup()
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 54, in startup
    await self.startup_event.wait()
  File "D:\python环境\Lib\asyncio\locks.py", line 212, in wait
    await fut
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\python环境\Lib\asyncio\runners.py", line 194, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\runners.py", line 123, in run
    raise KeyboardInterrupt()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\starlette\routing.py", line 686, in lifespan
    await receive()
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 137, in receive
    return await self.receive_queue.get()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\python环境\Lib\asyncio\queues.py", line 158, in get
    await getter
asyncio.exceptions.CancelledError

2025-04-01 22:22:19.000 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 22:22:19.007 | INFO     | logging:callHandlers:1762 - Started server process [15448]
2025-04-01 22:22:19.008 | INFO     | logging:callHandlers:1762 - Started server process [15448]
2025-04-01 22:22:19.009 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:22:19.010 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:22:19.405 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:19.406 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:19.407 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:19.407 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:19.408 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:22:19.409 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:22:56.644 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 0.004s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 22:22:56.646 | INFO     | logging:callHandlers:1762 - 127.0.0.1:4984 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 22:22:56.733 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:22:56.734 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:22:56.836 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:22:56.837 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:22:56.837 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:22:56.839 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:22:56.840 | INFO     | logging:callHandlers:1762 - Finished server process [15448]
2025-04-01 22:22:56.840 | INFO     | logging:callHandlers:1762 - Finished server process [15448]
2025-04-01 22:22:59.384 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 22:22:59.396 | INFO     | logging:callHandlers:1762 - Started server process [12456]
2025-04-01 22:22:59.396 | INFO     | logging:callHandlers:1762 - Started server process [12456]
2025-04-01 22:22:59.398 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:22:59.398 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:22:59.698 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:59.700 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:59.701 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:59.701 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:22:59.702 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:22:59.703 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:23:43.487 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 22:23:43.490 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 22:23:43.496 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 1.626s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 22:23:43.499 | INFO     | logging:callHandlers:1762 - 127.0.0.1:5038 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 22:25:22.283 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:25:22.284 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:25:22.386 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:25:22.390 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:25:22.392 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:25:22.395 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:25:22.399 | INFO     | logging:callHandlers:1762 - Finished server process [12456]
2025-04-01 22:25:22.401 | INFO     | logging:callHandlers:1762 - Finished server process [12456]
2025-04-01 22:25:25.214 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 22:25:25.221 | INFO     | logging:callHandlers:1762 - Started server process [19036]
2025-04-01 22:25:25.222 | INFO     | logging:callHandlers:1762 - Started server process [19036]
2025-04-01 22:25:25.223 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:25:25.223 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:25:25.563 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:25:25.565 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:25:25.566 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:25:25.566 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:25:25.567 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:25:25.568 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:25:27.661 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 22:25:27.662 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 22:25:27.665 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 1.056s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 22:25:27.666 | INFO     | logging:callHandlers:1762 - 127.0.0.1:5270 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 22:26:48.464 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:26:48.466 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:26:48.568 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:26:48.569 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:26:48.570 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:26:48.571 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:26:48.572 | INFO     | logging:callHandlers:1762 - Finished server process [19036]
2025-04-01 22:26:48.572 | INFO     | logging:callHandlers:1762 - Finished server process [19036]
2025-04-01 22:26:52.241 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 22:26:52.247 | INFO     | logging:callHandlers:1762 - Started server process [24112]
2025-04-01 22:26:52.248 | INFO     | logging:callHandlers:1762 - Started server process [24112]
2025-04-01 22:26:52.249 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:26:52.250 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:26:52.659 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:26:52.660 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:26:52.661 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:26:52.662 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:26:52.663 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:26:52.665 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:26:54.274 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 22:26:54.275 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 22:26:54.278 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 1.077s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 22:26:54.280 | INFO     | logging:callHandlers:1762 - 127.0.0.1:5449 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 22:28:47.964 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:28:47.965 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:28:48.068 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:28:48.069 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:28:48.070 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:28:48.071 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:28:48.072 | INFO     | logging:callHandlers:1762 - Finished server process [24112]
2025-04-01 22:28:48.073 | INFO     | logging:callHandlers:1762 - Finished server process [24112]
2025-04-01 22:28:51.010 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 22:28:51.020 | INFO     | logging:callHandlers:1762 - Started server process [23368]
2025-04-01 22:28:51.022 | INFO     | logging:callHandlers:1762 - Started server process [23368]
2025-04-01 22:28:51.024 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:28:51.025 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:28:51.517 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:28:51.518 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:28:51.518 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:28:51.520 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:28:51.521 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:28:51.522 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:29:25.978 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 22:29:25.980 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/chat/completions "HTTP/1.1 405 Method Not Allowed"
2025-04-01 22:29:25.984 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 1.139s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 22:29:25.987 | INFO     | logging:callHandlers:1762 - 127.0.0.1:5721 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 22:32:31.235 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:32:31.236 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:32:31.338 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:32:31.339 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:32:31.340 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:32:31.341 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:32:31.342 | INFO     | logging:callHandlers:1762 - Finished server process [23368]
2025-04-01 22:32:31.342 | INFO     | logging:callHandlers:1762 - Finished server process [23368]
2025-04-01 22:32:34.942 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 22:32:34.953 | INFO     | logging:callHandlers:1762 - Started server process [28748]
2025-04-01 22:32:34.955 | INFO     | logging:callHandlers:1762 - Started server process [28748]
2025-04-01 22:32:34.956 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:32:34.967 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:32:35.339 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:32:35.340 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:32:35.341 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:32:35.341 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:32:35.342 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:32:35.343 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:32:37.332 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/v1/chat/completions/chat/completions "HTTP/1.1 404 Not Found"
2025-04-01 22:32:37.334 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/v1/chat/completions/chat/completions "HTTP/1.1 404 Not Found"
2025-04-01 22:32:37.340 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 1.060s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 22:32:37.342 | INFO     | logging:callHandlers:1762 - 127.0.0.1:5990 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 22:36:28.166 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:36:28.168 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:36:28.269 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:36:28.270 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:36:28.271 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:36:28.272 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:36:28.273 | INFO     | logging:callHandlers:1762 - Finished server process [28748]
2025-04-01 22:36:28.274 | INFO     | logging:callHandlers:1762 - Finished server process [28748]
2025-04-01 22:36:31.556 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 22:36:31.579 | INFO     | logging:callHandlers:1762 - Started server process [18596]
2025-04-01 22:36:31.582 | INFO     | logging:callHandlers:1762 - Started server process [18596]
2025-04-01 22:36:31.583 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:36:31.585 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:36:31.970 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:36:31.971 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:36:31.972 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:36:31.973 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:36:31.973 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:36:31.974 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:43:02.567 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:43:02.569 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-01 22:43:05.260 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-01 22:43:05.262 | INFO     | logging:callHandlers:1762 - HTTP Request: POST https://xiaoai.plus/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-01 22:43:05.269 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/ai/chat 200 2.728s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-01 22:43:05.271 | INFO     | logging:callHandlers:1762 - 127.0.0.1:44856 - "POST /api/v1/ai/chat HTTP/1.1" 200
2025-04-01 22:43:05.375 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:43:05.376 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-01 22:43:05.376 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:43:05.377 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-01 22:43:05.378 | INFO     | logging:callHandlers:1762 - Finished server process [18596]
2025-04-01 22:43:05.380 | INFO     | logging:callHandlers:1762 - Finished server process [18596]
2025-04-01 22:43:09.558 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-01 22:43:09.568 | INFO     | logging:callHandlers:1762 - Started server process [18844]
2025-04-01 22:43:09.569 | INFO     | logging:callHandlers:1762 - Started server process [18844]
2025-04-01 22:43:09.570 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:43:09.571 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-01 22:43:09.766 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:43:09.768 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:43:09.770 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:43:09.771 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-01 22:43:09.772 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-01 22:43:09.772 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-02 11:30:27.676 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-02 11:30:27.689 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-02 11:30:27.799 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-02 11:30:27.801 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-02 11:30:27.811 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-02 11:30:27.815 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-02 11:30:27.818 | INFO     | logging:callHandlers:1762 - Finished server process [18844]
2025-04-02 11:30:27.820 | INFO     | logging:callHandlers:1762 - Finished server process [18844]
2025-04-02 11:30:31.255 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 11:30:31.260 | INFO     | logging:callHandlers:1762 - Started server process [39740]
2025-04-02 11:30:31.262 | INFO     | logging:callHandlers:1762 - Started server process [39740]
2025-04-02 11:30:31.263 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-02 11:30:31.264 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-02 11:30:31.679 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-02 11:30:31.680 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-02 11:30:31.681 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-02 11:30:31.682 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-02 11:30:31.683 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-02 11:30:31.684 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-02 11:38:44.410 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-02 11:38:44.411 | INFO     | logging:callHandlers:1762 - Shutting down
2025-04-02 11:38:44.512 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-02 11:38:44.513 | INFO     | logging:callHandlers:1762 - Waiting for application shutdown.
2025-04-02 11:38:44.514 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-02 11:38:44.515 | INFO     | logging:callHandlers:1762 - Application shutdown complete.
2025-04-02 11:38:44.515 | INFO     | logging:callHandlers:1762 - Finished server process [39740]
2025-04-02 11:38:44.515 | INFO     | logging:callHandlers:1762 - Finished server process [39740]
2025-04-02 11:38:48.914 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 11:38:48.927 | INFO     | logging:callHandlers:1762 - Started server process [39872]
2025-04-02 11:38:48.929 | INFO     | logging:callHandlers:1762 - Started server process [39872]
2025-04-02 11:38:48.932 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-02 11:38:48.934 | INFO     | logging:callHandlers:1762 - Waiting for application startup.
2025-04-02 11:38:49.300 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-02 11:38:49.303 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-02 11:38:49.305 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-02 11:38:49.307 | INFO     | logging:callHandlers:1762 - 超级用户已存在
2025-04-02 11:38:49.309 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-02 11:38:49.310 | INFO     | logging:callHandlers:1762 - Application startup complete.
2025-04-02 15:51:49.969 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 15:51:50.002 | INFO     | logging:callHandlers:1706 - Started server process [29280]
2025-04-02 15:51:50.004 | INFO     | logging:callHandlers:1706 - Started server process [29280]
2025-04-02 15:51:50.006 | INFO     | logging:callHandlers:1706 - Started server process [29280]
2025-04-02 15:51:50.009 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 15:51:50.011 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 15:51:50.014 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 15:51:50.452 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:50.454 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:50.455 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:50.456 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:50.459 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 15:51:50.461 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 15:51:50.463 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 15:51:53.692 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 15:51:53.713 | INFO     | logging:callHandlers:1706 - Started server process [38276]
2025-04-02 15:51:53.715 | INFO     | logging:callHandlers:1706 - Started server process [38276]
2025-04-02 15:51:53.717 | INFO     | logging:callHandlers:1706 - Started server process [38276]
2025-04-02 15:51:53.719 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 15:51:53.721 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 15:51:53.722 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 15:51:54.003 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:54.005 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:54.006 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:54.008 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:54.008 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 15:51:54.009 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 15:51:54.012 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 15:51:58.049 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 15:51:58.072 | INFO     | logging:callHandlers:1706 - Started server process [28424]
2025-04-02 15:51:58.074 | INFO     | logging:callHandlers:1706 - Started server process [28424]
2025-04-02 15:51:58.076 | INFO     | logging:callHandlers:1706 - Started server process [28424]
2025-04-02 15:51:58.078 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 15:51:58.080 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 15:51:58.082 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 15:51:58.360 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:58.361 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:58.362 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:58.364 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 15:51:58.365 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 15:51:58.366 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 15:51:58.367 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:06:30.130 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 16:06:30.151 | INFO     | logging:callHandlers:1706 - Started server process [14864]
2025-04-02 16:06:30.153 | INFO     | logging:callHandlers:1706 - Started server process [14864]
2025-04-02 16:06:30.154 | INFO     | logging:callHandlers:1706 - Started server process [14864]
2025-04-02 16:06:30.155 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:06:30.155 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:06:30.157 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:06:30.552 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:06:30.554 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:06:30.556 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:06:30.557 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:06:30.559 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:06:30.560 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:06:30.561 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:11:49.549 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 16:11:49.570 | INFO     | logging:callHandlers:1706 - Started server process [25836]
2025-04-02 16:11:49.572 | INFO     | logging:callHandlers:1706 - Started server process [25836]
2025-04-02 16:11:49.575 | INFO     | logging:callHandlers:1706 - Started server process [25836]
2025-04-02 16:11:49.577 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:11:49.578 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:11:49.579 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:11:49.927 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:11:49.929 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:11:49.931 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:11:49.932 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:11:49.934 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:11:49.935 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:11:49.937 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:11:59.376 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 16:11:59.403 | INFO     | logging:callHandlers:1706 - Started server process [19280]
2025-04-02 16:11:59.406 | INFO     | logging:callHandlers:1706 - Started server process [19280]
2025-04-02 16:11:59.408 | INFO     | logging:callHandlers:1706 - Started server process [19280]
2025-04-02 16:11:59.409 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:11:59.410 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:11:59.411 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:11:59.661 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:11:59.662 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:11:59.663 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:11:59.664 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:11:59.665 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:11:59.666 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:11:59.668 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:12:12.040 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 16:12:12.058 | INFO     | logging:callHandlers:1706 - Started server process [39292]
2025-04-02 16:12:12.060 | INFO     | logging:callHandlers:1706 - Started server process [39292]
2025-04-02 16:12:12.061 | INFO     | logging:callHandlers:1706 - Started server process [39292]
2025-04-02 16:12:12.062 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:12:12.063 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:12:12.064 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:12:12.360 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:12:12.361 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:12:12.362 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:12:12.362 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:12:12.363 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:12:12.364 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:12:12.365 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:12:29.278 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 16:12:29.298 | INFO     | logging:callHandlers:1706 - Started server process [24952]
2025-04-02 16:12:29.299 | INFO     | logging:callHandlers:1706 - Started server process [24952]
2025-04-02 16:12:29.301 | INFO     | logging:callHandlers:1706 - Started server process [24952]
2025-04-02 16:12:29.302 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:12:29.303 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:12:29.305 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:12:29.591 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:12:29.591 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:12:29.593 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:12:29.594 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:12:29.594 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:12:29.595 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:12:29.596 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:14:49.765 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 16:14:49.790 | INFO     | logging:callHandlers:1706 - Started server process [18056]
2025-04-02 16:14:49.791 | INFO     | logging:callHandlers:1706 - Started server process [18056]
2025-04-02 16:14:49.792 | INFO     | logging:callHandlers:1706 - Started server process [18056]
2025-04-02 16:14:49.793 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:14:49.794 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:14:49.794 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:14:50.076 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:14:50.078 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:14:50.080 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:14:50.083 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:14:50.085 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:14:50.086 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:14:50.089 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:16:50.825 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 400 0.497s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-02 16:16:50.836 | INFO     | logging:callHandlers:1762 - 127.0.0.1:45941 - "POST /api/v1/login/access-token HTTP/1.1" 400
2025-04-02 16:30:17.824 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 400 0.010s - IP: 127.0.0.1 - UA: python-requests/2.32.3
2025-04-02 16:30:17.826 | INFO     | logging:callHandlers:1762 - 127.0.0.1:48098 - "POST /api/v1/login/access-token HTTP/1.1" 400
2025-04-02 16:32:28.330 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login 404 0.004s - IP: 127.0.0.1 - UA: Apifox/1.0.0 (https://apifox.com)
2025-04-02 16:32:28.333 | INFO     | logging:callHandlers:1762 - 127.0.0.1:48304 - "POST /api/v1/login HTTP/1.1" 404
2025-04-02 16:33:05.258 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 422 0.012s - IP: 127.0.0.1 - UA: Apifox/1.0.0 (https://apifox.com)
2025-04-02 16:33:05.263 | INFO     | logging:callHandlers:1762 - 127.0.0.1:48329 - "POST /api/v1/login/access-token HTTP/1.1" 422
2025-04-02 16:36:03.709 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 422 0.051s - IP: 127.0.0.1 - UA: Apifox/1.0.0 (https://apifox.com)
2025-04-02 16:36:03.712 | INFO     | logging:callHandlers:1762 - 127.0.0.1:48818 - "POST /api/v1/login/access-token HTTP/1.1" 422
2025-04-02 16:37:06.640 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 422 0.001s - IP: 127.0.0.1 - UA: Apifox/1.0.0 (https://apifox.com)
2025-04-02 16:37:06.642 | INFO     | logging:callHandlers:1762 - 127.0.0.1:48948 - "POST /api/v1/login/access-token HTTP/1.1" 422
2025-04-02 16:38:32.770 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-02 16:38:32.788 | INFO     | logging:callHandlers:1706 - Started server process [19392]
2025-04-02 16:38:32.790 | INFO     | logging:callHandlers:1706 - Started server process [19392]
2025-04-02 16:38:32.791 | INFO     | logging:callHandlers:1706 - Started server process [19392]
2025-04-02 16:38:32.792 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:38:32.793 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:38:32.795 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-02 16:38:33.091 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:38:33.092 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:38:33.093 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:38:33.095 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-02 16:38:33.096 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:38:33.096 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:38:33.098 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-02 16:39:55.607 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 422 0.001s - IP: 127.0.0.1 - UA: Apifox/1.0.0 (https://apifox.com)
2025-04-02 16:39:55.613 | INFO     | logging:callHandlers:1762 - 127.0.0.1:49365 - "POST /api/v1/login/access-token HTTP/1.1" 422
2025-04-02 16:40:15.372 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/login/access-token 405 0.000s - IP: 127.0.0.1 - UA: Apifox/1.0.0 (https://apifox.com)
2025-04-02 16:40:15.375 | INFO     | logging:callHandlers:1762 - 127.0.0.1:49397 - "GET /api/v1/login/access-token HTTP/1.1" 405
2025-04-02 16:40:53.352 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 422 0.001s - IP: 127.0.0.1 - UA: Apifox/1.0.0 (https://apifox.com)
2025-04-02 16:40:53.355 | INFO     | logging:callHandlers:1762 - 127.0.0.1:49749 - "POST /api/v1/login/access-token HTTP/1.1" 422
2025-04-02 17:08:20.142 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 422 0.002s - IP: 127.0.0.1 - UA: Apifox/1.0.0 (https://apifox.com)
2025-04-02 17:08:20.146 | INFO     | logging:callHandlers:1762 - 127.0.0.1:53353 - "POST /api/v1/login/access-token HTTP/1.1" 422
2025-04-02 17:09:48.098 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 422 0.001s - IP: 127.0.0.1 - UA: Apifox/1.0.0 (https://apifox.com)
2025-04-02 17:09:48.099 | INFO     | logging:callHandlers:1762 - 127.0.0.1:53434 - "POST /api/v1/login/access-token HTTP/1.1" 422
2025-04-03 00:00:07.681 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/ 404 0.013s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:00:07.699 | INFO     | logging:callHandlers:1762 - 127.0.0.1:5820 - "GET /api/v1/ HTTP/1.1" 404
2025-04-03 00:00:08.510 | INFO     | app.core.middleware:dispatch:38 - GET /favicon.ico 404 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:00:08.516 | INFO     | logging:callHandlers:1762 - 127.0.0.1:5820 - "GET /favicon.ico HTTP/1.1" 404
2025-04-03 00:00:18.996 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.037s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:00:19.000 | INFO     | logging:callHandlers:1762 - 127.0.0.1:5821 - "GET /docs HTTP/1.1" 200
2025-04-03 00:01:07.605 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:01:07.646 | INFO     | logging:callHandlers:1762 - 127.0.0.1:8577 - "GET /docs HTTP/1.1" 200
2025-04-03 00:01:26.196 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.008s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:01:26.215 | INFO     | logging:callHandlers:1762 - 127.0.0.1:2963 - "GET /docs HTTP/1.1" 200
2025-04-03 00:01:36.508 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 1.072s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:01:36.717 | INFO     | logging:callHandlers:1762 - 127.0.0.1:3220 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-04-03 00:03:19.120 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 400 0.073s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:03:19.122 | INFO     | logging:callHandlers:1762 - 127.0.0.1:3874 - "POST /api/v1/login/access-token HTTP/1.1" 400
2025-04-03 00:03:33.021 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 400 0.026s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:03:33.022 | INFO     | logging:callHandlers:1762 - 127.0.0.1:3893 - "POST /api/v1/login/access-token HTTP/1.1" 400
2025-04-03 00:03:47.162 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 400 0.004s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:03:47.163 | INFO     | logging:callHandlers:1762 - 127.0.0.1:3928 - "POST /api/v1/login/access-token HTTP/1.1" 400
2025-04-03 00:04:10.695 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 400 0.007s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:04:10.697 | INFO     | logging:callHandlers:1762 - 127.0.0.1:3952 - "POST /api/v1/login/access-token HTTP/1.1" 400
2025-04-03 00:05:29.236 | WARNING  | logging:callHandlers:1762 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000222A8E25C60>
    └ <WorkerThread(AnyIO worker thread, started 2292)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000222AEC3CEA0>
    └ <WorkerThread(AnyIO worker thread, started 2292)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function create_user at 0x00000222AE033B00>, db=<sqlalchemy.orm.session.Session object at 0x00000222AECE8E...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000222AECB4900>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\users.py", line 41, in create_user
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='user@example.com', username='user', is_active=True, is_superuser=False, password='1234')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x00000222AECE8EF0>
           │            └ <function create_user at 0x00000222AE032020>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ '1234'
                    │                 └ UserCreate(email='user@example.com', username='user', is_active=True, is_superuser=False, password='1234')
                    └ <function get_password_hash at 0x00000222AE030C20>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ '1234'
           │           └ <function CryptContext.hash at 0x00000222AE015260>
           └ <CryptContext at 0x222acdd9f70>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ '1234'
           │      └ <classmethod(<function GenericHandler.hash at 0x00000222ADFCAFC0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ '1234'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x00000222AE0179C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x00000222ADFE93A0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x00000222ADFE94E0>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-03 00:05:29.390 | WARNING  | logging:callHandlers:1762 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000222A8E25C60>
    └ <WorkerThread(AnyIO worker thread, started 2292)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000222AEC3CEA0>
    └ <WorkerThread(AnyIO worker thread, started 2292)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function create_user at 0x00000222AE033B00>, db=<sqlalchemy.orm.session.Session object at 0x00000222AECE8E...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000222AECB4900>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\users.py", line 41, in create_user
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='user@example.com', username='user', is_active=True, is_superuser=False, password='1234')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x00000222AECE8EF0>
           │            └ <function create_user at 0x00000222AE032020>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ '1234'
                    │                 └ UserCreate(email='user@example.com', username='user', is_active=True, is_superuser=False, password='1234')
                    └ <function get_password_hash at 0x00000222AE030C20>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ '1234'
           │           └ <function CryptContext.hash at 0x00000222AE015260>
           └ <CryptContext at 0x222acdd9f70>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ '1234'
           │      └ <classmethod(<function GenericHandler.hash at 0x00000222ADFCAFC0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ '1234'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x00000222AE0179C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x00000222ADFE93A0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x00000222ADFE94E0>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-03 00:05:29.414 | WARNING  | logging:callHandlers:1762 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000222A8E25C60>
    └ <WorkerThread(AnyIO worker thread, started 2292)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000222AEC3CEA0>
    └ <WorkerThread(AnyIO worker thread, started 2292)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function create_user at 0x00000222AE033B00>, db=<sqlalchemy.orm.session.Session object at 0x00000222AECE8E...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000222AECB4900>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\users.py", line 41, in create_user
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='user@example.com', username='user', is_active=True, is_superuser=False, password='1234')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x00000222AECE8EF0>
           │            └ <function create_user at 0x00000222AE032020>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ '1234'
                    │                 └ UserCreate(email='user@example.com', username='user', is_active=True, is_superuser=False, password='1234')
                    └ <function get_password_hash at 0x00000222AE030C20>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ '1234'
           │           └ <function CryptContext.hash at 0x00000222AE015260>
           └ <CryptContext at 0x222acdd9f70>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ '1234'
           │      └ <classmethod(<function GenericHandler.hash at 0x00000222ADFCAFC0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ '1234'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x00000222AE0179C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x00000222ADFE93A0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x00000222ADFE94E0>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-03 00:05:29.643 | WARNING  | logging:callHandlers:1762 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "D:\python环境\Lib\threading.py", line 1009, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000222A8E25C60>
    └ <WorkerThread(AnyIO worker thread, started 2292)>
  File "D:\python环境\Lib\threading.py", line 1052, in _bootstrap_inner
    self.run()
    │    └ <function WorkerThread.run at 0x00000222AEC3CEA0>
    └ <WorkerThread(AnyIO worker thread, started 2292)>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 807, in run
    result = context.run(func, *args)
             │       │   │      └ ()
             │       │   └ functools.partial(<function create_user at 0x00000222AE033B00>, db=<sqlalchemy.orm.session.Session object at 0x00000222AECE8E...
             │       └ <method 'run' of '_contextvars.Context' objects>
             └ <_contextvars.Context object at 0x00000222AECB4900>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\users.py", line 41, in create_user
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='user@example.com', username='user', is_active=True, is_superuser=False, password='1234')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x00000222AECE8EF0>
           │            └ <function create_user at 0x00000222AE032020>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ '1234'
                    │                 └ UserCreate(email='user@example.com', username='user', is_active=True, is_superuser=False, password='1234')
                    └ <function get_password_hash at 0x00000222AE030C20>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ '1234'
           │           └ <function CryptContext.hash at 0x00000222AE015260>
           └ <CryptContext at 0x222acdd9f70>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ '1234'
           │      └ <classmethod(<function GenericHandler.hash at 0x00000222ADFCAFC0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ '1234'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x00000222AE0179C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x00000222ADFE93A0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000222AEC83C20>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x00000222ADFE9120>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x00000222ADFE94E0>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-03 00:05:30.142 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/users/ 200 1.231s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:05:30.143 | INFO     | logging:callHandlers:1762 - 127.0.0.1:4201 - "POST /api/v1/users/ HTTP/1.1" 200
2025-04-03 00:05:53.140 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 400 0.004s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:05:53.141 | INFO     | logging:callHandlers:1762 - 127.0.0.1:4315 - "POST /api/v1/login/access-token HTTP/1.1" 400
2025-04-03 00:07:47.938 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 400 0.005s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:07:47.940 | INFO     | logging:callHandlers:1762 - 127.0.0.1:4566 - "POST /api/v1/login/access-token HTTP/1.1" 400
2025-04-03 00:10:00.884 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 200 0.527s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 00:10:00.887 | INFO     | logging:callHandlers:1762 - 127.0.0.1:4825 - "POST /api/v1/login/access-token HTTP/1.1" 200
2025-04-03 00:47:37.191 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 00:47:37.375 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 00:47:37.597 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 00:47:37.928 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-03 00:47:38.060 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-03 00:47:38.155 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-03 00:47:38.187 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-03 00:47:38.199 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-03 00:47:38.215 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-03 00:47:38.362 | INFO     | logging:callHandlers:1706 - Finished server process [19392]
2025-04-03 00:47:38.421 | INFO     | logging:callHandlers:1706 - Finished server process [19392]
2025-04-03 00:47:38.428 | INFO     | logging:callHandlers:1706 - Finished server process [19392]
2025-04-03 11:15:32.384 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 11:15:32.407 | INFO     | logging:callHandlers:1706 - Started server process [1584]
2025-04-03 11:15:32.408 | INFO     | logging:callHandlers:1706 - Started server process [1584]
2025-04-03 11:15:32.409 | INFO     | logging:callHandlers:1706 - Started server process [1584]
2025-04-03 11:15:32.410 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:15:32.411 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:15:32.413 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:15:32.641 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:15:32.642 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:15:32.642 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:15:32.643 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:15:32.643 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:15:32.644 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:15:32.644 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:15:57.986 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.007s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 11:15:57.998 | INFO     | logging:callHandlers:1762 - 127.0.0.1:44823 - "GET /docs HTTP/1.1" 200
2025-04-03 11:15:58.251 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.008s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 11:15:58.255 | INFO     | logging:callHandlers:1762 - 127.0.0.1:44823 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-04-03 11:18:18.634 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 11:18:18.637 | INFO     | logging:callHandlers:1762 - 127.0.0.1:45248 - "GET /docs HTTP/1.1" 200
2025-04-03 11:18:18.859 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 11:18:18.862 | INFO     | logging:callHandlers:1762 - 127.0.0.1:45248 - "GET /docs HTTP/1.1" 200
2025-04-03 11:18:18.897 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.002s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 11:18:18.903 | INFO     | logging:callHandlers:1762 - 127.0.0.1:45248 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-04-03 11:18:19.245 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 11:18:19.248 | INFO     | logging:callHandlers:1762 - 127.0.0.1:45248 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-04-03 11:20:08.581 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 11:20:08.587 | INFO     | logging:callHandlers:1762 - 127.0.0.1:45473 - "GET /docs HTTP/1.1" 200
2025-04-03 11:20:08.786 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 11:20:08.789 | INFO     | logging:callHandlers:1762 - 127.0.0.1:45473 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-04-03 11:24:16.485 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 11:24:16.499 | INFO     | logging:callHandlers:1706 - Started server process [31456]
2025-04-03 11:24:16.500 | INFO     | logging:callHandlers:1706 - Started server process [31456]
2025-04-03 11:24:16.501 | INFO     | logging:callHandlers:1706 - Started server process [31456]
2025-04-03 11:24:16.502 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:24:16.502 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:24:16.504 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:24:16.770 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:24:16.771 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:24:16.772 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:24:16.773 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:24:16.774 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:24:16.775 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:24:16.776 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:25:04.765 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 11:25:04.785 | INFO     | logging:callHandlers:1706 - Started server process [15940]
2025-04-03 11:25:04.786 | INFO     | logging:callHandlers:1706 - Started server process [15940]
2025-04-03 11:25:04.787 | INFO     | logging:callHandlers:1706 - Started server process [15940]
2025-04-03 11:25:04.789 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:25:04.790 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:25:04.791 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:25:05.219 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:05.221 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:05.222 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:05.223 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:05.225 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:25:05.225 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:25:05.226 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:25:28.454 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 11:25:28.467 | INFO     | logging:callHandlers:1706 - Started server process [5852]
2025-04-03 11:25:28.468 | INFO     | logging:callHandlers:1706 - Started server process [5852]
2025-04-03 11:25:28.470 | INFO     | logging:callHandlers:1706 - Started server process [5852]
2025-04-03 11:25:28.471 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:25:28.473 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:25:28.475 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:25:28.770 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:28.771 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:28.772 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:28.772 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:28.775 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:25:28.776 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:25:28.777 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:25:54.380 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 11:25:54.401 | INFO     | logging:callHandlers:1706 - Started server process [20528]
2025-04-03 11:25:54.403 | INFO     | logging:callHandlers:1706 - Started server process [20528]
2025-04-03 11:25:54.405 | INFO     | logging:callHandlers:1706 - Started server process [20528]
2025-04-03 11:25:54.407 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:25:54.408 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:25:54.410 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:25:54.794 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:54.796 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:54.797 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:54.798 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:25:54.799 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:25:54.800 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:25:54.801 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:26:32.005 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 11:26:32.020 | INFO     | logging:callHandlers:1706 - Started server process [1672]
2025-04-03 11:26:32.022 | INFO     | logging:callHandlers:1706 - Started server process [1672]
2025-04-03 11:26:32.022 | INFO     | logging:callHandlers:1706 - Started server process [1672]
2025-04-03 11:26:32.024 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:26:32.026 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:26:32.028 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:26:32.409 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:26:32.411 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:26:32.413 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:26:32.415 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:26:32.417 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:26:32.419 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:26:32.421 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:26:51.102 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 11:26:51.123 | INFO     | logging:callHandlers:1706 - Started server process [2308]
2025-04-03 11:26:51.126 | INFO     | logging:callHandlers:1706 - Started server process [2308]
2025-04-03 11:26:51.127 | INFO     | logging:callHandlers:1706 - Started server process [2308]
2025-04-03 11:26:51.127 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:26:51.130 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:26:51.132 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:26:51.402 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:26:51.403 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:26:51.404 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:26:51.405 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:26:51.406 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:26:51.407 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:26:51.408 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:29:17.659 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 11:29:17.673 | INFO     | logging:callHandlers:1706 - Started server process [16912]
2025-04-03 11:29:17.675 | INFO     | logging:callHandlers:1706 - Started server process [16912]
2025-04-03 11:29:17.676 | INFO     | logging:callHandlers:1706 - Started server process [16912]
2025-04-03 11:29:17.677 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:29:17.678 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:29:17.679 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 11:29:17.978 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:29:17.979 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:29:17.980 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:29:17.981 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 11:29:17.982 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:29:17.984 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:29:17.984 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 11:29:24.718 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 11:29:24.720 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 11:29:24.721 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 11:29:24.823 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-03 11:29:24.825 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-03 11:29:24.826 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-03 11:29:24.826 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-03 11:29:24.828 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-03 11:29:24.829 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-03 11:29:24.830 | INFO     | logging:callHandlers:1706 - Finished server process [16912]
2025-04-03 11:29:24.831 | INFO     | logging:callHandlers:1706 - Finished server process [16912]
2025-04-03 11:29:24.832 | INFO     | logging:callHandlers:1706 - Finished server process [16912]
2025-04-03 12:14:33.884 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 12:14:33.902 | INFO     | logging:callHandlers:1706 - Started server process [8496]
2025-04-03 12:14:33.904 | INFO     | logging:callHandlers:1706 - Started server process [8496]
2025-04-03 12:14:33.906 | INFO     | logging:callHandlers:1706 - Started server process [8496]
2025-04-03 12:14:33.907 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 12:14:33.908 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 12:14:33.910 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 12:14:34.156 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:14:34.157 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:14:34.158 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:14:34.159 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:14:34.160 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 12:14:34.160 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 12:14:34.161 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 12:14:52.942 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.004s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 12:14:52.953 | INFO     | logging:callHandlers:1762 - 127.0.0.1:55199 - "GET /docs HTTP/1.1" 200
2025-04-03 12:14:53.096 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.002s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 12:14:53.098 | INFO     | logging:callHandlers:1762 - 127.0.0.1:55199 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-04-03 12:17:52.156 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 12:17:52.175 | INFO     | logging:callHandlers:1706 - Started server process [38300]
2025-04-03 12:17:52.177 | INFO     | logging:callHandlers:1706 - Started server process [38300]
2025-04-03 12:17:52.177 | INFO     | logging:callHandlers:1706 - Started server process [38300]
2025-04-03 12:17:52.178 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 12:17:52.179 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 12:17:52.179 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 12:17:52.471 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:17:52.472 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:17:52.473 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:17:52.474 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:17:52.474 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 12:17:52.475 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 12:17:52.476 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 12:18:28.543 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 12:18:28.548 | INFO     | logging:callHandlers:1762 - 127.0.0.1:56332 - "GET /docs HTTP/1.1" 200
2025-04-03 12:18:28.700 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.002s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 12:18:28.702 | INFO     | logging:callHandlers:1762 - 127.0.0.1:56332 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-04-03 12:20:38.230 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 12:20:38.250 | INFO     | logging:callHandlers:1706 - Started server process [16112]
2025-04-03 12:20:38.251 | INFO     | logging:callHandlers:1706 - Started server process [16112]
2025-04-03 12:20:38.253 | INFO     | logging:callHandlers:1706 - Started server process [16112]
2025-04-03 12:20:38.255 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 12:20:38.256 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 12:20:38.257 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 12:20:38.578 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:20:38.580 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:20:38.581 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:20:38.582 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 12:20:38.582 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 12:20:38.584 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 12:20:38.586 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 12:20:40.642 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 12:20:40.647 | INFO     | logging:callHandlers:1762 - 127.0.0.1:56745 - "GET /docs HTTP/1.1" 200
2025-04-03 12:20:40.731 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 12:20:40.734 | INFO     | logging:callHandlers:1762 - 127.0.0.1:56745 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-04-03 13:11:28.098 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 13:11:28.133 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 13:11:28.134 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 13:11:35.259 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 13:11:35.280 | INFO     | logging:callHandlers:1706 - Started server process [5064]
2025-04-03 13:11:35.282 | INFO     | logging:callHandlers:1706 - Started server process [5064]
2025-04-03 13:11:35.283 | INFO     | logging:callHandlers:1706 - Started server process [5064]
2025-04-03 13:11:35.284 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 13:11:35.285 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 13:11:35.287 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 13:11:35.689 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 13:11:35.690 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 13:11:35.692 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 13:11:35.694 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 13:11:35.694 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 13:11:35.696 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 13:11:35.697 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 13:13:04.182 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.003s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:13:04.195 | INFO     | logging:callHandlers:1762 - 127.0.0.1:9636 - "GET /docs HTTP/1.1" 200
2025-04-03 13:13:05.625 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.004s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:13:05.627 | INFO     | logging:callHandlers:1762 - 127.0.0.1:9636 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-04-03 13:13:11.311 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 13:13:11.314 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 13:13:11.317 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-03 13:13:11.429 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-03 13:13:11.431 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-03 13:13:11.434 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-03 13:13:11.444 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-03 13:13:11.474 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-03 13:13:11.487 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-03 13:13:11.503 | INFO     | logging:callHandlers:1706 - Finished server process [5064]
2025-04-03 13:13:11.514 | INFO     | logging:callHandlers:1706 - Finished server process [5064]
2025-04-03 13:13:11.521 | INFO     | logging:callHandlers:1706 - Finished server process [5064]
2025-04-03 13:15:05.628 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-03 13:15:05.646 | INFO     | logging:callHandlers:1706 - Started server process [30320]
2025-04-03 13:15:05.647 | INFO     | logging:callHandlers:1706 - Started server process [30320]
2025-04-03 13:15:05.650 | INFO     | logging:callHandlers:1706 - Started server process [30320]
2025-04-03 13:15:05.651 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 13:15:05.652 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 13:15:05.653 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-03 13:15:05.923 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 13:15:05.925 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 13:15:05.926 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 13:15:05.926 | INFO     | logging:callHandlers:1706 - 超级用户已存在
2025-04-03 13:15:05.928 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 13:15:05.929 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 13:15:05.930 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-03 13:15:10.937 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:15:10.940 | INFO     | logging:callHandlers:1706 - 127.0.0.1:9904 - "GET /docs HTTP/1.1" 200
2025-04-03 13:15:12.217 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.013s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:15:12.220 | INFO     | logging:callHandlers:1706 - 127.0.0.1:9904 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-04-03 13:20:09.889 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/article/ 401 0.003s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:20:09.896 | INFO     | logging:callHandlers:1706 - 127.0.0.1:10735 - "POST /api/v1/article/ HTTP/1.1" 401
2025-04-03 13:33:00.787 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 995, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000246A9669080>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 1038, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x00000246A9668D60>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 975, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(asyncio_0, started 37964)>
    │    │        │    └ (<weakref at 0x00000246AF1116C0; to 'ThreadPoolExecutor' at 0x00000246AF10BD10>, <_queue.SimpleQueue object at 0x00000246AF11...
    │    │        └ <Thread(asyncio_0, started 37964)>
    │    └ <function _worker at 0x00000246ABC0BC40>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\concurrent\futures\thread.py", line 83, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x00000246ABC0BD80>
    └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
             │    │   │    └ (functools.partial(<function login_access_token at 0x00000246AD8187C0>, db=<sqlalchemy.orm.session.Session object at 0x000002...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
             │    └ <built-in method run of _contextvars.Context object at 0x00000246AF103E00>
             └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\login.py", line 24, in login_access_token
    user = user_service.authenticate(
           │            └ <function authenticate at 0x00000246AD818720>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 71, in authenticate
    if not verify_password(password, user.hashed_password):
           │               │         │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000246AD428FB0>
           │               │         └ <app.models.user.User object at 0x00000246AF13D690>
           │               └ '12134'
           └ <function verify_password at 0x00000246AD7EB9C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 29, in verify_password
    return pwd_context.verify(plain_password, hashed_password)
           │           │      │               └ '$2b$12$7.M8.Ko.UPu9SyglMq.nEu7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │           │      └ '12134'
           │           └ <function CryptContext.verify at 0x00000246AD7E80E0>
           └ <CryptContext at 0x246ad578390>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2347, in verify
    return record.verify(secret, hash, **kwds)
           │      │      │       │       └ {}
           │      │      │       └ '$2b$12$7.M8.Ko.UPu9SyglMq.nEu7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │      │      └ '12134'
           │      └ <classmethod(<function GenericHandler.verify at 0x00000246AD7B9940>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
           │       │    │              │        └ '7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │       │    │              └ '12134'
           │       │    └ <function _NoBackend._calc_checksum at 0x00000246AD7EA840>
           │       └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000246ABDB9510>
           └ <built-in function compare_digest>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x00000246AD7BBC40>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000246ABDB9510>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x00000246AD7BBD80>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-03 13:33:01.039 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 995, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000246A9669080>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 1038, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x00000246A9668D60>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 975, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(asyncio_0, started 37964)>
    │    │        │    └ (<weakref at 0x00000246AF1116C0; to 'ThreadPoolExecutor' at 0x00000246AF10BD10>, <_queue.SimpleQueue object at 0x00000246AF11...
    │    │        └ <Thread(asyncio_0, started 37964)>
    │    └ <function _worker at 0x00000246ABC0BC40>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\concurrent\futures\thread.py", line 83, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x00000246ABC0BD80>
    └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
             │    │   │    └ (functools.partial(<function login_access_token at 0x00000246AD8187C0>, db=<sqlalchemy.orm.session.Session object at 0x000002...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
             │    └ <built-in method run of _contextvars.Context object at 0x00000246AF103E00>
             └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\login.py", line 24, in login_access_token
    user = user_service.authenticate(
           │            └ <function authenticate at 0x00000246AD818720>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 71, in authenticate
    if not verify_password(password, user.hashed_password):
           │               │         │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000246AD428FB0>
           │               │         └ <app.models.user.User object at 0x00000246AF13D690>
           │               └ '12134'
           └ <function verify_password at 0x00000246AD7EB9C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 29, in verify_password
    return pwd_context.verify(plain_password, hashed_password)
           │           │      │               └ '$2b$12$7.M8.Ko.UPu9SyglMq.nEu7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │           │      └ '12134'
           │           └ <function CryptContext.verify at 0x00000246AD7E80E0>
           └ <CryptContext at 0x246ad578390>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2347, in verify
    return record.verify(secret, hash, **kwds)
           │      │      │       │       └ {}
           │      │      │       └ '$2b$12$7.M8.Ko.UPu9SyglMq.nEu7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │      │      └ '12134'
           │      └ <classmethod(<function GenericHandler.verify at 0x00000246AD7B9940>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
           │       │    │              │        └ '7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │       │    │              └ '12134'
           │       │    └ <function _NoBackend._calc_checksum at 0x00000246AD7EA840>
           │       └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000246ABDB9510>
           └ <built-in function compare_digest>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x00000246AD7BBC40>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000246ABDB9510>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x00000246AD7BBD80>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-03 13:33:01.065 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 995, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000246A9669080>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 1038, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x00000246A9668D60>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 975, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(asyncio_0, started 37964)>
    │    │        │    └ (<weakref at 0x00000246AF1116C0; to 'ThreadPoolExecutor' at 0x00000246AF10BD10>, <_queue.SimpleQueue object at 0x00000246AF11...
    │    │        └ <Thread(asyncio_0, started 37964)>
    │    └ <function _worker at 0x00000246ABC0BC40>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\concurrent\futures\thread.py", line 83, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x00000246ABC0BD80>
    └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
             │    │   │    └ (functools.partial(<function login_access_token at 0x00000246AD8187C0>, db=<sqlalchemy.orm.session.Session object at 0x000002...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
             │    └ <built-in method run of _contextvars.Context object at 0x00000246AF103E00>
             └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\login.py", line 24, in login_access_token
    user = user_service.authenticate(
           │            └ <function authenticate at 0x00000246AD818720>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 71, in authenticate
    if not verify_password(password, user.hashed_password):
           │               │         │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000246AD428FB0>
           │               │         └ <app.models.user.User object at 0x00000246AF13D690>
           │               └ '12134'
           └ <function verify_password at 0x00000246AD7EB9C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 29, in verify_password
    return pwd_context.verify(plain_password, hashed_password)
           │           │      │               └ '$2b$12$7.M8.Ko.UPu9SyglMq.nEu7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │           │      └ '12134'
           │           └ <function CryptContext.verify at 0x00000246AD7E80E0>
           └ <CryptContext at 0x246ad578390>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2347, in verify
    return record.verify(secret, hash, **kwds)
           │      │      │       │       └ {}
           │      │      │       └ '$2b$12$7.M8.Ko.UPu9SyglMq.nEu7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │      │      └ '12134'
           │      └ <classmethod(<function GenericHandler.verify at 0x00000246AD7B9940>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
           │       │    │              │        └ '7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │       │    │              └ '12134'
           │       │    └ <function _NoBackend._calc_checksum at 0x00000246AD7EA840>
           │       └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000246ABDB9510>
           └ <built-in function compare_digest>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x00000246AD7BBC40>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000246ABDB9510>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x00000246AD7BBD80>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-03 13:33:01.091 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 995, in _bootstrap
    self._bootstrap_inner()
    │    └ <function Thread._bootstrap_inner at 0x00000246A9669080>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 1038, in _bootstrap_inner
    self.run()
    │    └ <function Thread.run at 0x00000246A9668D60>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\threading.py", line 975, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {}
    │    │        │    │        └ <Thread(asyncio_0, started 37964)>
    │    │        │    └ (<weakref at 0x00000246AF1116C0; to 'ThreadPoolExecutor' at 0x00000246AF10BD10>, <_queue.SimpleQueue object at 0x00000246AF11...
    │    │        └ <Thread(asyncio_0, started 37964)>
    │    └ <function _worker at 0x00000246ABC0BC40>
    └ <Thread(asyncio_0, started 37964)>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\concurrent\futures\thread.py", line 83, in _worker
    work_item.run()
    │         └ <function _WorkItem.run at 0x00000246ABC0BD80>
    └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\concurrent\futures\thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             │    │   │    │       │    └ {}
             │    │   │    │       └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
             │    │   │    └ (functools.partial(<function login_access_token at 0x00000246AD8187C0>, db=<sqlalchemy.orm.session.Session object at 0x000002...
             │    │   └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>
             │    └ <built-in method run of _contextvars.Context object at 0x00000246AF103E00>
             └ <concurrent.futures.thread._WorkItem object at 0x00000246AF130B90>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\api\api_v1\endpoints\login.py", line 24, in login_access_token
    user = user_service.authenticate(
           │            └ <function authenticate at 0x00000246AD818720>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\services\user_service.py", line 71, in authenticate
    if not verify_password(password, user.hashed_password):
           │               │         │    └ <sqlalchemy.orm.attributes.InstrumentedAttribute object at 0x00000246AD428FB0>
           │               │         └ <app.models.user.User object at 0x00000246AF13D690>
           │               └ '12134'
           └ <function verify_password at 0x00000246AD7EB9C0>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\app\core\security.py", line 29, in verify_password
    return pwd_context.verify(plain_password, hashed_password)
           │           │      │               └ '$2b$12$7.M8.Ko.UPu9SyglMq.nEu7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │           │      └ '12134'
           │           └ <function CryptContext.verify at 0x00000246AD7E80E0>
           └ <CryptContext at 0x246ad578390>

  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\context.py", line 2347, in verify
    return record.verify(secret, hash, **kwds)
           │      │      │       │       └ {}
           │      │      │       └ '$2b$12$7.M8.Ko.UPu9SyglMq.nEu7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │      │      └ '12134'
           │      └ <classmethod(<function GenericHandler.verify at 0x00000246AD7B9940>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
           │       │    │              │        └ '7LqMeXnSwN3QqT2KTFVy/AHayIrZjMO'
           │       │    │              └ '12134'
           │       │    └ <function _NoBackend._calc_checksum at 0x00000246AD7EA840>
           │       └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000246ABDB9510>
           └ <built-in function compare_digest>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x00000246AD7BBC40>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x00000246ABDB9510>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x00000246AD7BB9C0>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x00000246AD7BBD80>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\SilentRhythm\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\SilentRhythm\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-03 13:33:01.556 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 400 1.106s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:33:01.558 | INFO     | logging:callHandlers:1706 - 127.0.0.1:12699 - "POST /api/v1/login/access-token HTTP/1.1" 400
2025-04-03 13:33:12.210 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 200 0.399s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:33:12.214 | INFO     | logging:callHandlers:1706 - 127.0.0.1:12740 - "POST /api/v1/login/access-token HTTP/1.1" 200
2025-04-03 13:33:25.830 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/article/ 401 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:33:25.832 | INFO     | logging:callHandlers:1706 - 127.0.0.1:12741 - "POST /api/v1/article/ HTTP/1.1" 401
2025-04-03 13:38:04.537 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/article/ 401 0.001s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:38:04.545 | INFO     | logging:callHandlers:1706 - 127.0.0.1:13261 - "POST /api/v1/article/ HTTP/1.1" 401
2025-04-03 13:42:42.628 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/article/ 401 0.002s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:42:42.631 | INFO     | logging:callHandlers:1706 - 127.0.0.1:14014 - "POST /api/v1/article/ HTTP/1.1" 401
2025-04-03 13:47:16.785 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/login/access-token 200 0.419s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:47:16.789 | INFO     | logging:callHandlers:1706 - 127.0.0.1:15898 - "POST /api/v1/login/access-token HTTP/1.1" 200
2025-04-03 13:47:26.988 | INFO     | app.core.middleware:dispatch:38 - POST /api/v1/article/ 200 0.055s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:47:26.993 | INFO     | logging:callHandlers:1706 - 127.0.0.1:15899 - "POST /api/v1/article/ HTTP/1.1" 200
2025-04-03 13:48:11.638 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/article/ 200 0.006s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-03 13:48:11.641 | INFO     | logging:callHandlers:1706 - 127.0.0.1:15986 - "GET /api/v1/article/?skip=0&limit=10 HTTP/1.1" 200
2025-04-04 11:11:10.537 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-04 11:11:10.555 | INFO     | logging:callHandlers:1706 - Started server process [21884]
2025-04-04 11:11:10.557 | INFO     | logging:callHandlers:1706 - Started server process [21884]
2025-04-04 11:11:10.558 | INFO     | logging:callHandlers:1706 - Started server process [21884]
2025-04-04 11:11:10.561 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 11:11:10.564 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 11:11:10.565 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 11:11:10.862 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 120, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 176
               │     └ 3
               └ <function _main at 0x0000027E8C49A480>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 133, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 176
           │    └ <function BaseProcess._bootstrap at 0x0000027E8C3139C0>
           └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000027E8C312F20>
    └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027E8E8B6950>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
    │    └ <function subprocess_started at 0x0000027E8E92D940>
    └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027E8E949950>>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\server.py", line 68, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000027E8E92C9A0>
           │       │   └ <uvicorn.server.Server object at 0x0000027E8E949950>
           │       └ <function run at 0x0000027E8E0CF380>
           └ <module 'asyncio' from 'C:\\Users\\20494\\.pyenv\\pyenv-win\\versions\\3.11.0\\Lib\\asyncio\\__init__.py'>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x0000027E8E9609D0>
           │      └ <function Runner.run at 0x0000027E8E0FB920>
           └ <asyncio.runners.Runner object at 0x0000027E8E948FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000027E8E0F94E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000027E8E948FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000027E8E0F9440>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027E8E0FB240>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027E8C8C39C0>
    └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x0000027E8E9B5BC0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>
          │   │      │    └ <function LifespanOn.receive at 0x0000027E8E9B5C60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027E8E9590D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027E8E9590D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\fastapi\applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027E9054FB10>
          └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027E9062D250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027E9054FB10>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 70, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x0000027E9062D1D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027E9062D250>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x0000027E9062D150>
          └ <app.core.middleware.ExceptionMiddleware object at 0x0000027E9062D1D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x0000027E9062D050>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x0000027E9062D150>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x0000027E9062D050>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 569, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <function Router.lifespan at 0x0000027E8EF40B80>
          └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
                      │    │                └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
                      │    └ <function Router.__init__.<locals>.default_lifespan at 0x0000027E9045B880>
                      └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
          │    └ <function Router.startup at 0x0000027E8EF40A40>
          └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
          └ <function startup_event at 0x0000027E90619D00>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x0000027E90503450>
    └ <function init_db at 0x0000027E90618360>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x0000027E90503450>
           │            └ <function create_user at 0x0000027E904DFBA0>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x0000027E90384C20>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x0000027E90371080>
           └ <CryptContext at 0x27e90087c50>

  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x0000027E9033A8E0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x0000027E903739C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x0000027E90368CC0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x0000027E90368E00>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-04 11:11:11.077 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 120, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 176
               │     └ 3
               └ <function _main at 0x0000027E8C49A480>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 133, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 176
           │    └ <function BaseProcess._bootstrap at 0x0000027E8C3139C0>
           └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000027E8C312F20>
    └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027E8E8B6950>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
    │    └ <function subprocess_started at 0x0000027E8E92D940>
    └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027E8E949950>>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\server.py", line 68, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000027E8E92C9A0>
           │       │   └ <uvicorn.server.Server object at 0x0000027E8E949950>
           │       └ <function run at 0x0000027E8E0CF380>
           └ <module 'asyncio' from 'C:\\Users\\20494\\.pyenv\\pyenv-win\\versions\\3.11.0\\Lib\\asyncio\\__init__.py'>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x0000027E8E9609D0>
           │      └ <function Runner.run at 0x0000027E8E0FB920>
           └ <asyncio.runners.Runner object at 0x0000027E8E948FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000027E8E0F94E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000027E8E948FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000027E8E0F9440>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027E8E0FB240>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027E8C8C39C0>
    └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x0000027E8E9B5BC0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>
          │   │      │    └ <function LifespanOn.receive at 0x0000027E8E9B5C60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027E8E9590D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027E8E9590D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\fastapi\applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027E9054FB10>
          └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027E9062D250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027E9054FB10>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 70, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x0000027E9062D1D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027E9062D250>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x0000027E9062D150>
          └ <app.core.middleware.ExceptionMiddleware object at 0x0000027E9062D1D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x0000027E9062D050>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x0000027E9062D150>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x0000027E9062D050>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 569, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <function Router.lifespan at 0x0000027E8EF40B80>
          └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
                      │    │                └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
                      │    └ <function Router.__init__.<locals>.default_lifespan at 0x0000027E9045B880>
                      └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
          │    └ <function Router.startup at 0x0000027E8EF40A40>
          └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
          └ <function startup_event at 0x0000027E90619D00>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x0000027E90503450>
    └ <function init_db at 0x0000027E90618360>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x0000027E90503450>
           │            └ <function create_user at 0x0000027E904DFBA0>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x0000027E90384C20>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x0000027E90371080>
           └ <CryptContext at 0x27e90087c50>

  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x0000027E9033A8E0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x0000027E903739C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x0000027E90368CC0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x0000027E90368E00>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-04 11:11:11.101 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 120, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 176
               │     └ 3
               └ <function _main at 0x0000027E8C49A480>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 133, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 176
           │    └ <function BaseProcess._bootstrap at 0x0000027E8C3139C0>
           └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000027E8C312F20>
    └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027E8E8B6950>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
    │    └ <function subprocess_started at 0x0000027E8E92D940>
    └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027E8E949950>>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\server.py", line 68, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000027E8E92C9A0>
           │       │   └ <uvicorn.server.Server object at 0x0000027E8E949950>
           │       └ <function run at 0x0000027E8E0CF380>
           └ <module 'asyncio' from 'C:\\Users\\20494\\.pyenv\\pyenv-win\\versions\\3.11.0\\Lib\\asyncio\\__init__.py'>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x0000027E8E9609D0>
           │      └ <function Runner.run at 0x0000027E8E0FB920>
           └ <asyncio.runners.Runner object at 0x0000027E8E948FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000027E8E0F94E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000027E8E948FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000027E8E0F9440>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027E8E0FB240>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027E8C8C39C0>
    └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x0000027E8E9B5BC0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>
          │   │      │    └ <function LifespanOn.receive at 0x0000027E8E9B5C60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027E8E9590D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027E8E9590D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\fastapi\applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027E9054FB10>
          └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027E9062D250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027E9054FB10>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 70, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x0000027E9062D1D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027E9062D250>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x0000027E9062D150>
          └ <app.core.middleware.ExceptionMiddleware object at 0x0000027E9062D1D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x0000027E9062D050>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x0000027E9062D150>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x0000027E9062D050>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 569, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <function Router.lifespan at 0x0000027E8EF40B80>
          └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
                      │    │                └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
                      │    └ <function Router.__init__.<locals>.default_lifespan at 0x0000027E9045B880>
                      └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
          │    └ <function Router.startup at 0x0000027E8EF40A40>
          └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
          └ <function startup_event at 0x0000027E90619D00>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x0000027E90503450>
    └ <function init_db at 0x0000027E90618360>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x0000027E90503450>
           │            └ <function create_user at 0x0000027E904DFBA0>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x0000027E90384C20>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x0000027E90371080>
           └ <CryptContext at 0x27e90087c50>

  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x0000027E9033A8E0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x0000027E903739C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x0000027E90368CC0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x0000027E90368E00>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-04 11:11:11.131 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 120, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 176
               │     └ 3
               └ <function _main at 0x0000027E8C49A480>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 133, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 176
           │    └ <function BaseProcess._bootstrap at 0x0000027E8C3139C0>
           └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x0000027E8C312F20>
    └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x0000027E8E8B6950>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
    │    └ <function subprocess_started at 0x0000027E8E92D940>
    └ <SpawnProcess name='SpawnProcess-5' parent=20528 started>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=728, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x0000027E8E949950>>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\server.py", line 68, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=728, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x0000027E8E92C9A0>
           │       │   └ <uvicorn.server.Server object at 0x0000027E8E949950>
           │       └ <function run at 0x0000027E8E0CF380>
           └ <module 'asyncio' from 'C:\\Users\\20494\\.pyenv\\pyenv-win\\versions\\3.11.0\\Lib\\asyncio\\__init__.py'>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x0000027E8E9609D0>
           │      └ <function Runner.run at 0x0000027E8E0FB920>
           └ <asyncio.runners.Runner object at 0x0000027E8E948FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x0000027E8E0F94E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x0000027E8E948FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x0000027E8E0F9440>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x0000027E8E0FB240>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x0000027E8C8C39C0>
    └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x0000027E916259C0>()>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x0000027E8E9B5BC0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>
          │   │      │    └ <function LifespanOn.receive at 0x0000027E8E9B5C60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027E8E9590D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
                 │    └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x0000027E8E9590D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\fastapi\applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027E9054FB10>
          └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027E9062D250>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x0000027E9054FB10>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 70, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x0000027E9062D1D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x0000027E9062D250>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x0000027E9062D150>
          └ <app.core.middleware.ExceptionMiddleware object at 0x0000027E9062D1D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x0000027E9062D050>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x0000027E9062D150>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x0000027E9062D050>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 569, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x0000027E8E95AB50>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <function Router.lifespan at 0x0000027E8EF40B80>
          └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
                      │    │                └ <fastapi.applications.FastAPI object at 0x0000027E8E9C6C50>
                      │    └ <function Router.__init__.<locals>.default_lifespan at 0x0000027E9045B880>
                      └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
          │    └ <function Router.startup at 0x0000027E8EF40A40>
          └ <fastapi.routing.APIRouter object at 0x0000027E9062C210>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
          └ <function startup_event at 0x0000027E90619D00>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x0000027E90503450>
    └ <function init_db at 0x0000027E90618360>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x0000027E90503450>
           │            └ <function create_user at 0x0000027E904DFBA0>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x0000027E90384C20>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x0000027E90371080>
           └ <CryptContext at 0x27e90087c50>

  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x0000027E9033A8E0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x0000027E903739C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x0000027E90368CC0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x0000027E90501990>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x0000027E90368A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x0000027E90368E00>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-04 11:11:11.480 | INFO     | logging:callHandlers:1706 - 超级用户已创建
2025-04-04 11:11:11.482 | INFO     | logging:callHandlers:1706 - 超级用户已创建
2025-04-04 11:11:11.483 | INFO     | logging:callHandlers:1706 - 超级用户已创建
2025-04-04 11:11:11.484 | INFO     | logging:callHandlers:1706 - 超级用户已创建
2025-04-04 11:11:11.485 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-04 11:11:11.486 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-04 11:11:11.486 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-04 11:11:39.825 | INFO     | app.core.middleware:dispatch:38 - GET /docx 404 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-04 11:11:39.828 | INFO     | logging:callHandlers:1706 - 127.0.0.1:30526 - "GET /docx HTTP/1.1" 404
2025-04-04 11:11:40.395 | INFO     | app.core.middleware:dispatch:38 - GET /favicon.ico 404 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-04 11:11:40.398 | INFO     | logging:callHandlers:1706 - 127.0.0.1:30526 - "GET /favicon.ico HTTP/1.1" 404
2025-04-04 11:18:44.754 | INFO     | app.core.middleware:dispatch:38 - GET /docs 200 0.000s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-04 11:18:44.756 | INFO     | logging:callHandlers:1706 - 127.0.0.1:31313 - "GET /docs HTTP/1.1" 200
2025-04-04 11:18:46.246 | INFO     | app.core.middleware:dispatch:38 - GET /api/v1/openapi.json 200 0.034s - IP: 127.0.0.1 - UA: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36 Edg/134.0.0.0
2025-04-04 11:18:46.250 | INFO     | logging:callHandlers:1706 - 127.0.0.1:31313 - "GET /api/v1/openapi.json HTTP/1.1" 200
2025-04-04 11:24:53.785 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-04 11:24:53.788 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-04 11:24:53.791 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-04 11:24:53.896 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-04 11:24:53.899 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-04 11:24:53.902 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-04 11:24:53.904 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-04 11:24:53.907 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-04 11:24:53.909 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-04 11:24:53.910 | INFO     | logging:callHandlers:1706 - Finished server process [21884]
2025-04-04 11:24:53.912 | INFO     | logging:callHandlers:1706 - Finished server process [21884]
2025-04-04 11:24:53.915 | INFO     | logging:callHandlers:1706 - Finished server process [21884]
2025-04-04 14:17:01.202 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-04 14:17:01.219 | INFO     | logging:callHandlers:1706 - Started server process [7784]
2025-04-04 14:17:01.220 | INFO     | logging:callHandlers:1706 - Started server process [7784]
2025-04-04 14:17:01.221 | INFO     | logging:callHandlers:1706 - Started server process [7784]
2025-04-04 14:17:01.222 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 14:17:01.223 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 14:17:01.224 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 14:17:01.491 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 120, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 316
               │     └ 3
               └ <function _main at 0x000001F90D42A480>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 133, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 316
           │    └ <function BaseProcess._bootstrap at 0x000001F90D2A39C0>
           └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F90D2A2F20>
    └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F90F896950>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
    │    └ <function subprocess_started at 0x000001F90F8FD940>
    └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=528, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F90F919950>>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\server.py", line 68, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=528, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001F90F8FC9A0>
           │       │   └ <uvicorn.server.Server object at 0x000001F90F919950>
           │       └ <function run at 0x000001F90F06F380>
           └ <module 'asyncio' from 'C:\\Users\\20494\\.pyenv\\pyenv-win\\versions\\3.11.0\\Lib\\asyncio\\__init__.py'>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001F90F9309D0>
           │      └ <function Runner.run at 0x000001F90F09B920>
           └ <asyncio.runners.Runner object at 0x000001F90F918FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F90F0994E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F90F918FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F90F099440>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F90F09B240>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F90D8639C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x000001F90F985BC0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>
          │   │      │    └ <function LifespanOn.receive at 0x000001F90F985C60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F9115CF910>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F9115CF910>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\fastapi\applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F9115CD790>
          └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F9115CD750>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F9115CD790>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 70, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000001F9115CD6D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F9115CD750>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000001F9115CD610>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000001F9115CD6D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x000001F9115CD590>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000001F9115CD610>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x000001F9115CD590>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 569, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <function Router.lifespan at 0x000001F90FEE0B80>
          └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
                      │    │                └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
                      │    └ <function Router.__init__.<locals>.default_lifespan at 0x000001F9113FB880>
                      └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
          │    └ <function Router.startup at 0x000001F90FEE0A40>
          └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
          └ <function startup_event at 0x000001F9115B9D00>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x000001F9114CFE10>
    └ <function init_db at 0x000001F9115B8360>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x000001F9114CFE10>
           │            └ <function create_user at 0x000001F91147BBA0>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x000001F911324C20>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x000001F91130D080>
           └ <CryptContext at 0x1f911028c50>

  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x000001F9112DA8E0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x000001F91130F9C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x000001F911304CC0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x000001F911304E00>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-04 14:17:01.769 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 120, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 316
               │     └ 3
               └ <function _main at 0x000001F90D42A480>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 133, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 316
           │    └ <function BaseProcess._bootstrap at 0x000001F90D2A39C0>
           └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F90D2A2F20>
    └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F90F896950>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
    │    └ <function subprocess_started at 0x000001F90F8FD940>
    └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=528, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F90F919950>>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\server.py", line 68, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=528, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001F90F8FC9A0>
           │       │   └ <uvicorn.server.Server object at 0x000001F90F919950>
           │       └ <function run at 0x000001F90F06F380>
           └ <module 'asyncio' from 'C:\\Users\\20494\\.pyenv\\pyenv-win\\versions\\3.11.0\\Lib\\asyncio\\__init__.py'>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001F90F9309D0>
           │      └ <function Runner.run at 0x000001F90F09B920>
           └ <asyncio.runners.Runner object at 0x000001F90F918FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F90F0994E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F90F918FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F90F099440>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F90F09B240>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F90D8639C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x000001F90F985BC0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>
          │   │      │    └ <function LifespanOn.receive at 0x000001F90F985C60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F9115CF910>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F9115CF910>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\fastapi\applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F9115CD790>
          └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F9115CD750>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F9115CD790>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 70, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000001F9115CD6D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F9115CD750>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000001F9115CD610>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000001F9115CD6D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x000001F9115CD590>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000001F9115CD610>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x000001F9115CD590>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 569, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <function Router.lifespan at 0x000001F90FEE0B80>
          └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
                      │    │                └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
                      │    └ <function Router.__init__.<locals>.default_lifespan at 0x000001F9113FB880>
                      └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
          │    └ <function Router.startup at 0x000001F90FEE0A40>
          └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
          └ <function startup_event at 0x000001F9115B9D00>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x000001F9114CFE10>
    └ <function init_db at 0x000001F9115B8360>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x000001F9114CFE10>
           │            └ <function create_user at 0x000001F91147BBA0>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x000001F911324C20>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x000001F91130D080>
           └ <CryptContext at 0x1f911028c50>

  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x000001F9112DA8E0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x000001F91130F9C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x000001F911304CC0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x000001F911304E00>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-04 14:17:01.792 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 120, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 316
               │     └ 3
               └ <function _main at 0x000001F90D42A480>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 133, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 316
           │    └ <function BaseProcess._bootstrap at 0x000001F90D2A39C0>
           └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F90D2A2F20>
    └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F90F896950>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
    │    └ <function subprocess_started at 0x000001F90F8FD940>
    └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=528, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F90F919950>>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\server.py", line 68, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=528, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001F90F8FC9A0>
           │       │   └ <uvicorn.server.Server object at 0x000001F90F919950>
           │       └ <function run at 0x000001F90F06F380>
           └ <module 'asyncio' from 'C:\\Users\\20494\\.pyenv\\pyenv-win\\versions\\3.11.0\\Lib\\asyncio\\__init__.py'>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001F90F9309D0>
           │      └ <function Runner.run at 0x000001F90F09B920>
           └ <asyncio.runners.Runner object at 0x000001F90F918FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F90F0994E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F90F918FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F90F099440>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F90F09B240>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F90D8639C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x000001F90F985BC0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>
          │   │      │    └ <function LifespanOn.receive at 0x000001F90F985C60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F9115CF910>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F9115CF910>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\fastapi\applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F9115CD790>
          └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F9115CD750>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F9115CD790>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 70, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000001F9115CD6D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F9115CD750>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000001F9115CD610>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000001F9115CD6D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x000001F9115CD590>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000001F9115CD610>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x000001F9115CD590>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 569, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <function Router.lifespan at 0x000001F90FEE0B80>
          └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
                      │    │                └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
                      │    └ <function Router.__init__.<locals>.default_lifespan at 0x000001F9113FB880>
                      └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
          │    └ <function Router.startup at 0x000001F90FEE0A40>
          └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
          └ <function startup_event at 0x000001F9115B9D00>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x000001F9114CFE10>
    └ <function init_db at 0x000001F9115B8360>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x000001F9114CFE10>
           │            └ <function create_user at 0x000001F91147BBA0>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x000001F911324C20>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x000001F91130D080>
           └ <CryptContext at 0x1f911028c50>

  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x000001F9112DA8E0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x000001F91130F9C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x000001F911304CC0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x000001F911304E00>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-04 14:17:01.813 | WARNING  | logging:callHandlers:1706 - (trapped) error reading bcrypt version
Traceback (most recent call last):

  File "<string>", line 1, in <module>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 120, in spawn_main
    exitcode = _main(fd, parent_sentinel)
               │     │   └ 316
               │     └ 3
               └ <function _main at 0x000001F90D42A480>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\spawn.py", line 133, in _main
    return self._bootstrap(parent_sentinel)
           │    │          └ 316
           │    └ <function BaseProcess._bootstrap at 0x000001F90D2A39C0>
           └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 314, in _bootstrap
    self.run()
    │    └ <function BaseProcess.run at 0x000001F90D2A2F20>
    └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\multiprocessing\process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    │    │        │    │        │    └ {'config': <uvicorn.config.Config object at 0x000001F90F896950>, 'target': <bound method Server.run of <uvicorn.server.Server...
    │    │        │    │        └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
    │    │        │    └ ()
    │    │        └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
    │    └ <function subprocess_started at 0x000001F90F8FD940>
    └ <SpawnProcess name='SpawnProcess-1' parent=32464 started>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\subprocess.py", line 76, in subprocess_started
    target(sockets=sockets)
    │              └ [<socket.socket fd=528, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
    └ <bound method Server.run of <uvicorn.server.Server object at 0x000001F90F919950>>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\server.py", line 68, in run
    return asyncio.run(self.serve(sockets=sockets))
           │       │   │    │             └ [<socket.socket fd=528, family=2, type=1, proto=6, laddr=('0.0.0.0', 8000)>]
           │       │   │    └ <function Server.serve at 0x000001F90F8FC9A0>
           │       │   └ <uvicorn.server.Server object at 0x000001F90F919950>
           │       └ <function run at 0x000001F90F06F380>
           └ <module 'asyncio' from 'C:\\Users\\20494\\.pyenv\\pyenv-win\\versions\\3.11.0\\Lib\\asyncio\\__init__.py'>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 190, in run
    return runner.run(main)
           │      │   └ <coroutine object Server.serve at 0x000001F90F9309D0>
           │      └ <function Runner.run at 0x000001F90F09B920>
           └ <asyncio.runners.Runner object at 0x000001F90F918FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           │    │     │                  └ <Task pending name='Task-1' coro=<Server.serve() running at C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-package...
           │    │     └ <function BaseEventLoop.run_until_complete at 0x000001F90F0994E0>
           │    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
           └ <asyncio.runners.Runner object at 0x000001F90F918FD0>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 637, in run_until_complete
    self.run_forever()
    │    └ <function BaseEventLoop.run_forever at 0x000001F90F099440>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 604, in run_forever
    self._run_once()
    │    └ <function BaseEventLoop._run_once at 0x000001F90F09B240>
    └ <_WindowsSelectorEventLoop running=True closed=False debug=False>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\base_events.py", line 1909, in _run_once
    handle._run()
    │      └ <function Handle._run at 0x000001F90D8639C0>
    └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
  File "C:\Users\20494\.pyenv\pyenv-win\versions\3.11.0\Lib\asyncio\events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
    │    │            │    │           │    └ <member '_args' of 'Handle' objects>
    │    │            │    │           └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
    │    │            │    └ <member '_callback' of 'Handle' objects>
    │    │            └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
    │    └ <member '_context' of 'Handle' objects>
    └ <Handle <TaskStepMethWrapper object at 0x000001F9125C56F0>()>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\lifespan\on.py", line 84, in main
    await app(scope, self.receive, self.send)
          │   │      │    │        │    └ <function LifespanOn.send at 0x000001F90F985BC0>
          │   │      │    │        └ <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>
          │   │      │    └ <function LifespanOn.receive at 0x000001F90F985C60>
          │   │      └ <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>
          │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F9115CF910>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\uvicorn\middleware\proxy_headers.py", line 75, in __call__
    return await self.app(scope, receive, send)
                 │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                 │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                 │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
                 │    └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
                 └ <uvicorn.middleware.proxy_headers.ProxyHeadersMiddleware object at 0x000001F9115CF910>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\fastapi\applications.py", line 208, in __call__
    await super().__call__(scope, receive, send)
                           │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                           │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
                           └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
          │    │                │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │                │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │                └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F9115CD790>
          └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\errors.py", line 146, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F9115CD750>
          └ <starlette.middleware.errors.ServerErrorMiddleware object at 0x000001F9115CD790>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\cors.py", line 70, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.ExceptionMiddleware object at 0x000001F9115CD6D0>
          └ <starlette.middleware.cors.CORSMiddleware object at 0x000001F9115CD750>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <app.core.middleware.RequestLoggingMiddleware object at 0x000001F9115CD610>
          └ <app.core.middleware.ExceptionMiddleware object at 0x000001F9115CD6D0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\middleware\base.py", line 21, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <starlette.exceptions.ExceptionMiddleware object at 0x000001F9115CD590>
          └ <app.core.middleware.RequestLoggingMiddleware object at 0x000001F9115CD610>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\exceptions.py", line 58, in __call__
    await self.app(scope, receive, send)
          │    │   │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │   └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
          └ <starlette.exceptions.ExceptionMiddleware object at 0x000001F9115CD590>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 569, in __call__
    await self.lifespan(scope, receive, send)
          │    │        │      │        └ <bound method LifespanOn.send of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │        │      └ <bound method LifespanOn.receive of <uvicorn.lifespan.on.LifespanOn object at 0x000001F9115B5110>>
          │    │        └ {'type': 'lifespan', 'asgi': {'version': '3.0', 'spec_version': '2.0'}, 'fastapi_astack': <contextlib.AsyncExitStack object a...
          │    └ <function Router.lifespan at 0x000001F90FEE0B80>
          └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
                      │    │                └ <fastapi.applications.FastAPI object at 0x000001F90F996C10>
                      │    └ <function Router.__init__.<locals>.default_lifespan at 0x000001F9113FB880>
                      └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
          │    └ <function Router.startup at 0x000001F90FEE0A40>
          └ <fastapi.routing.APIRouter object at 0x000001F911491DD0>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
          └ <function startup_event at 0x000001F9115B9D00>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
    │       └ <sqlalchemy.orm.session.Session object at 0x000001F9114CFE10>
    └ <function init_db at 0x000001F9115B8360>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           │            │           │          └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
           │            │           └ <sqlalchemy.orm.session.Session object at 0x000001F9114CFE10>
           │            └ <function create_user at 0x000001F91147BBA0>
           └ <module 'app.services.user_service' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\app\\services\\user_service.py'>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 30, in create_user
    hashed_password=get_password_hash(obj_in.password),
                    │                 │      └ 'admin'
                    │                 └ UserCreate(email='admin@garbage.com', username='admin', is_active=True, is_superuser=True, password='admin')
                    └ <function get_password_hash at 0x000001F911324C20>

  File "C:\Users\20494\Desktop\grabage-hero\backend\app\core\security.py", line 33, in get_password_hash
    return pwd_context.hash(password)
           │           │    └ 'admin'
           │           └ <function CryptContext.hash at 0x000001F91130D080>
           └ <CryptContext at 0x1f911028c50>

  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           │      │    │         └ {}
           │      │    └ 'admin'
           │      └ <classmethod(<function GenericHandler.hash at 0x000001F9112DA8E0>)>
           └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
    │    │          │    │              └ 'admin'
    │    │          │    └ <function _NoBackend._calc_checksum at 0x000001F91130F9C0>
    │    │          └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
    │    └ None
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
    │    └ <classmethod(<function BackendMixin._stub_requires_backend at 0x000001F911304CC0>)>
    └ <passlib.handlers.bcrypt.<customized bcrypt hasher> object at 0x000001F90FC51550>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
    │   └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
    └ <class 'passlib.handlers.bcrypt.<customized bcrypt hasher>'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           │     │           │            └ False
           │     │           └ 'any'
           │     └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           │   │           │            └ False
           │   │           └ 'bcrypt'
           │   └ <classmethod(<function BackendMixin.set_backend at 0x000001F911304A40>)>
           └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
    │   │            │     └ False
    │   │            └ 'bcrypt'
    │   └ <classmethod(<function SubclassBackendMixin._set_backend at 0x000001F911304E00>)>
    └ <class 'passlib.handlers.bcrypt.bcrypt'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
          │                     │                 │     └ False
          │                     │                 └ 'bcrypt'
          │                     └ <class 'passlib.handlers.bcrypt.bcrypt'>
          └ <class 'passlib.utils.handlers.SubclassBackendMixin'>
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\utils\handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         │        └ {'name': 'bcrypt', 'dryrun': False}
         └ <bound method _BcryptBackend._load_backend_mixin of <class 'passlib.handlers.bcrypt._BcryptBackend'>>
> File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\passlib\handlers\bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              └ <module 'bcrypt' from 'C:\\Users\\20494\\Desktop\\grabage-hero\\backend\\venv\\Lib\\site-packages\\bcrypt\\__init__.py'>

AttributeError: module 'bcrypt' has no attribute '__about__'
2025-04-04 14:17:02.308 | ERROR    | logging:callHandlers:1706 - Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 35, in create_user
    db.commit()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1451, in commit
    self._transaction.commit(_to_root=self.future)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 829, in commit
    self._prepare_impl()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 808, in _prepare_impl
    self.session.flush()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3386, in flush
    self._flush(objects)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3525, in _flush
    with util.safe_reraise():
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3486, in _flush
    flush_context.execute()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 456, in execute
    rec.execute(self)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 245, in save_obj
    _emit_insert_statements(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1238, in _emit_insert_statements
    result = connection._execute_20(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 333, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在

[SQL: INSERT INTO "user" (created_at, updated_at, email, username, hashed_password, is_active, is_superuser) VALUES (%(created_at)s, %(updated_at)s, %(email)s, %(username)s, %(hashed_password)s, %(is_active)s, %(is_superuser)s) RETURNING "user".id]
[parameters: {'created_at': datetime.datetime(2025, 4, 4, 6, 17, 2, 166987), 'updated_at': datetime.datetime(2025, 4, 4, 6, 17, 2, 166987), 'email': 'admin@garbage.com', 'username': 'admin', 'hashed_password': '$2b$12$4/IKzDGEhFuZ4587zQ8Xx.YISEoFkWk2FUoxEdb2HqC/YZBDv5NEy', 'is_active': True, 'is_superuser': True}]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

2025-04-04 14:17:02.310 | ERROR    | logging:callHandlers:1706 - Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 35, in create_user
    db.commit()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1451, in commit
    self._transaction.commit(_to_root=self.future)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 829, in commit
    self._prepare_impl()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 808, in _prepare_impl
    self.session.flush()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3386, in flush
    self._flush(objects)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3525, in _flush
    with util.safe_reraise():
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3486, in _flush
    flush_context.execute()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 456, in execute
    rec.execute(self)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 245, in save_obj
    _emit_insert_statements(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1238, in _emit_insert_statements
    result = connection._execute_20(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 333, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在

[SQL: INSERT INTO "user" (created_at, updated_at, email, username, hashed_password, is_active, is_superuser) VALUES (%(created_at)s, %(updated_at)s, %(email)s, %(username)s, %(hashed_password)s, %(is_active)s, %(is_superuser)s) RETURNING "user".id]
[parameters: {'created_at': datetime.datetime(2025, 4, 4, 6, 17, 2, 166987), 'updated_at': datetime.datetime(2025, 4, 4, 6, 17, 2, 166987), 'email': 'admin@garbage.com', 'username': 'admin', 'hashed_password': '$2b$12$4/IKzDGEhFuZ4587zQ8Xx.YISEoFkWk2FUoxEdb2HqC/YZBDv5NEy', 'is_active': True, 'is_superuser': True}]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

2025-04-04 14:17:02.312 | ERROR    | logging:callHandlers:1706 - Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 35, in create_user
    db.commit()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1451, in commit
    self._transaction.commit(_to_root=self.future)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 829, in commit
    self._prepare_impl()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 808, in _prepare_impl
    self.session.flush()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3386, in flush
    self._flush(objects)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3525, in _flush
    with util.safe_reraise():
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3486, in _flush
    flush_context.execute()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 456, in execute
    rec.execute(self)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 245, in save_obj
    _emit_insert_statements(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1238, in _emit_insert_statements
    result = connection._execute_20(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 333, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在

[SQL: INSERT INTO "user" (created_at, updated_at, email, username, hashed_password, is_active, is_superuser) VALUES (%(created_at)s, %(updated_at)s, %(email)s, %(username)s, %(hashed_password)s, %(is_active)s, %(is_superuser)s) RETURNING "user".id]
[parameters: {'created_at': datetime.datetime(2025, 4, 4, 6, 17, 2, 166987), 'updated_at': datetime.datetime(2025, 4, 4, 6, 17, 2, 166987), 'email': 'admin@garbage.com', 'username': 'admin', 'hashed_password': '$2b$12$4/IKzDGEhFuZ4587zQ8Xx.YISEoFkWk2FUoxEdb2HqC/YZBDv5NEy', 'is_active': True, 'is_superuser': True}]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

2025-04-04 14:17:02.315 | ERROR    | logging:callHandlers:1706 - Application startup failed. Exiting.
2025-04-04 14:17:02.317 | ERROR    | logging:callHandlers:1706 - Application startup failed. Exiting.
2025-04-04 14:17:02.319 | ERROR    | logging:callHandlers:1706 - Application startup failed. Exiting.
2025-04-04 14:21:47.352 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-04 14:21:47.366 | INFO     | logging:callHandlers:1706 - Started server process [39480]
2025-04-04 14:21:47.368 | INFO     | logging:callHandlers:1706 - Started server process [39480]
2025-04-04 14:21:47.368 | INFO     | logging:callHandlers:1706 - Started server process [39480]
2025-04-04 14:21:47.369 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 14:21:47.370 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 14:21:47.371 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 14:21:47.962 | ERROR    | logging:callHandlers:1706 - Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 35, in create_user
    db.commit()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1451, in commit
    self._transaction.commit(_to_root=self.future)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 829, in commit
    self._prepare_impl()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 808, in _prepare_impl
    self.session.flush()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3386, in flush
    self._flush(objects)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3525, in _flush
    with util.safe_reraise():
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3486, in _flush
    flush_context.execute()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 456, in execute
    rec.execute(self)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 245, in save_obj
    _emit_insert_statements(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1238, in _emit_insert_statements
    result = connection._execute_20(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 333, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在

[SQL: INSERT INTO "user" (created_at, updated_at, email, username, hashed_password, is_active, is_superuser) VALUES (%(created_at)s, %(updated_at)s, %(email)s, %(username)s, %(hashed_password)s, %(is_active)s, %(is_superuser)s) RETURNING "user".id]
[parameters: {'created_at': datetime.datetime(2025, 4, 4, 6, 21, 47, 952870), 'updated_at': datetime.datetime(2025, 4, 4, 6, 21, 47, 952870), 'email': 'admin@garbage.com', 'username': 'admin', 'hashed_password': '$2b$12$nPm4SucPoOzhGNqU1QMw4.mSZnNG3BX.uuLY69WNtzyzdhmj9Oupa', 'is_active': True, 'is_superuser': True}]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

2025-04-04 14:21:47.965 | ERROR    | logging:callHandlers:1706 - Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 35, in create_user
    db.commit()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1451, in commit
    self._transaction.commit(_to_root=self.future)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 829, in commit
    self._prepare_impl()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 808, in _prepare_impl
    self.session.flush()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3386, in flush
    self._flush(objects)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3525, in _flush
    with util.safe_reraise():
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3486, in _flush
    flush_context.execute()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 456, in execute
    rec.execute(self)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 245, in save_obj
    _emit_insert_statements(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1238, in _emit_insert_statements
    result = connection._execute_20(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 333, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在

[SQL: INSERT INTO "user" (created_at, updated_at, email, username, hashed_password, is_active, is_superuser) VALUES (%(created_at)s, %(updated_at)s, %(email)s, %(username)s, %(hashed_password)s, %(is_active)s, %(is_superuser)s) RETURNING "user".id]
[parameters: {'created_at': datetime.datetime(2025, 4, 4, 6, 21, 47, 952870), 'updated_at': datetime.datetime(2025, 4, 4, 6, 21, 47, 952870), 'email': 'admin@garbage.com', 'username': 'admin', 'hashed_password': '$2b$12$nPm4SucPoOzhGNqU1QMw4.mSZnNG3BX.uuLY69WNtzyzdhmj9Oupa', 'is_active': True, 'is_superuser': True}]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

2025-04-04 14:21:47.966 | ERROR    | logging:callHandlers:1706 - Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 540, in lifespan
    async for item in self.lifespan_context(app):
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 481, in default_lifespan
    await self.startup()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\starlette\routing.py", line 516, in startup
    await handler()
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\main.py", line 51, in startup_event
    init_db(db)
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\db\init_db.py", line 30, in init_db
    user = user_service.create_user(db, obj_in=user_in)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\app\services\user_service.py", line 35, in create_user
    db.commit()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 1451, in commit
    self._transaction.commit(_to_root=self.future)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 829, in commit
    self._prepare_impl()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 808, in _prepare_impl
    self.session.flush()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3386, in flush
    self._flush(objects)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3525, in _flush
    with util.safe_reraise():
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\session.py", line 3486, in _flush
    flush_context.execute()
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 456, in execute
    rec.execute(self)
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 245, in save_obj
    _emit_insert_statements(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1238, in _emit_insert_statements
    result = connection._execute_20(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1705, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 333, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1572, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1943, in _execute_context
    self._handle_dbapi_exception(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2124, in _handle_dbapi_exception
    util.raise_(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\util\compat.py", line 208, in raise_
    raise exception
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1900, in _execute_context
    self.dialect.do_execute(
  File "C:\Users\20494\Desktop\grabage-hero\backend\venv\Lib\site-packages\sqlalchemy\engine\default.py", line 736, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) 错误:  重复键违反唯一约束"ix_user_email"
DETAIL:  键值"(email)=(admin@garbage.com)" 已经存在

[SQL: INSERT INTO "user" (created_at, updated_at, email, username, hashed_password, is_active, is_superuser) VALUES (%(created_at)s, %(updated_at)s, %(email)s, %(username)s, %(hashed_password)s, %(is_active)s, %(is_superuser)s) RETURNING "user".id]
[parameters: {'created_at': datetime.datetime(2025, 4, 4, 6, 21, 47, 952870), 'updated_at': datetime.datetime(2025, 4, 4, 6, 21, 47, 952870), 'email': 'admin@garbage.com', 'username': 'admin', 'hashed_password': '$2b$12$nPm4SucPoOzhGNqU1QMw4.mSZnNG3BX.uuLY69WNtzyzdhmj9Oupa', 'is_active': True, 'is_superuser': True}]
(Background on this error at: https://sqlalche.me/e/14/gkpj)

2025-04-04 14:21:47.968 | ERROR    | logging:callHandlers:1706 - Application startup failed. Exiting.
2025-04-04 14:21:47.970 | ERROR    | logging:callHandlers:1706 - Application startup failed. Exiting.
2025-04-04 14:21:47.972 | ERROR    | logging:callHandlers:1706 - Application startup failed. Exiting.
2025-04-04 14:24:23.115 | INFO     | app.core.logging:setup_logging:89 - 日志系统已初始化
2025-04-04 14:24:23.134 | INFO     | logging:callHandlers:1706 - Started server process [40228]
2025-04-04 14:24:23.137 | INFO     | logging:callHandlers:1706 - Started server process [40228]
2025-04-04 14:24:23.139 | INFO     | logging:callHandlers:1706 - Started server process [40228]
2025-04-04 14:24:23.140 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 14:24:23.142 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 14:24:23.143 | INFO     | logging:callHandlers:1706 - Waiting for application startup.
2025-04-04 14:24:23.615 | INFO     | logging:callHandlers:1706 - 超级用户已创建
2025-04-04 14:24:23.616 | INFO     | logging:callHandlers:1706 - 超级用户已创建
2025-04-04 14:24:23.618 | INFO     | logging:callHandlers:1706 - 超级用户已创建
2025-04-04 14:24:23.619 | INFO     | logging:callHandlers:1706 - 超级用户已创建
2025-04-04 14:24:23.620 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-04 14:24:23.620 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-04 14:24:23.621 | INFO     | logging:callHandlers:1706 - Application startup complete.
2025-04-04 14:30:28.955 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-04 14:30:28.958 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-04 14:30:28.961 | INFO     | logging:callHandlers:1706 - Shutting down
2025-04-04 14:30:29.065 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-04 14:30:29.067 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-04 14:30:29.070 | INFO     | logging:callHandlers:1706 - Waiting for application shutdown.
2025-04-04 14:30:29.072 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-04 14:30:29.075 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-04 14:30:29.079 | INFO     | logging:callHandlers:1706 - Application shutdown complete.
2025-04-04 14:30:29.082 | INFO     | logging:callHandlers:1706 - Finished server process [40228]
2025-04-04 14:30:29.084 | INFO     | logging:callHandlers:1706 - Finished server process [40228]
2025-04-04 14:30:29.087 | INFO     | logging:callHandlers:1706 - Finished server process [40228]
